# 检查清单

开发新弹窗时，请确认以下要点：

## 类型选择

- [ ] 根据决策流程选择正确的弹窗类型（Dialog / Sheet）
- [ ] 字段 > 15 个或多板块时使用 Sheet + Tabs
- [ ] 配置/设置类使用 Sheet
- [ ] 确认操作使用 ConfirmDialog
- [ ] 详情查看使用 Sheet，不与编辑混用

## 文件组织

- [ ] 弹窗组件独立文件，不与主页面混写
- [ ] Schema 定义在弹窗组件内部
- [ ] API 调用封装在弹窗组件内部
- [ ] Props 接口清晰：`open`、`onOpenChange`、`currentRow`、`onSuccess`

## 表单规范

- [ ] 使用 `react-hook-form` + `zod` 进行表单管理和验证
- [ ] 使用 `Form` 系列组件（FormField, FormItem, FormLabel, FormControl, FormMessage）
- [ ] Dialog 标准表单使用水平布局 `grid grid-cols-6`
- [ ] Dialog 简单表单使用垂直布局 `space-y-4`
- [ ] Sheet/多板块表单使用 Card + Grid 布局
- [ ] 使用 `max-h-[60vh] min-h-[300px]` 响应式高度

## 交互规范

- [ ] 弹窗关闭时调用 `form.reset()` 重置表单
- [ ] 使用 form id 关联 Footer 中的提交按钮
- [ ] 删除操作使用 `ConfirmDialog` + `destructive` 样式
- [ ] 危险操作需要输入确认文本
- [ ] 多板块使用 Tabs 组织，每个 Tab 内用 Card 分组
- [ ] 表单有修改时，关闭前显示确认提示
- [ ] 详情抽屉 Footer 包含"去编辑"按钮

## 状态与错误处理

- [ ] 提交过程中禁止关闭弹窗
- [ ] 提交按钮显示 loading 状态
- [ ] API 错误使用 `toast.error()` 提示
- [ ] 编辑模式使用 `useEffect` 回填数据
- [ ] 加载数据时显示 Skeleton

## 组件规范

- [ ] 下拉选择使用 `SelectDropdown` 组件
- [ ] 密码输入使用 `PasswordInput` 组件
- [ ] 开关选项使用 `Switch` 组件
- [ ] 长内容区域添加 `overflow-y-auto`
- [ ] DropdownMenu 在弹窗内使用时添加 `modal={false}`

## 布局规范

- [ ] 滚动容器使用 `px-1` 避免 focus ring 被裁切
- [ ] 多列 Grid 布局添加 `items-start` 确保顶部对齐

## 响应式

- [ ] Dialog 宽度使用 `sm:max-w-lg` 等响应式类
- [ ] Sheet 在移动端考虑从底部弹出
