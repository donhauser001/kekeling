# 响应式与移动端适配

## Dialog 移动端表现

`Dialog` 在移动端默认居中显示，宽度会自动适应屏幕。

```tsx
// sm:max-w-lg 表示：
// - 移动端：宽度接近全屏（有少量边距）
// - 桌面端：最大宽度 512px
<DialogContent className='sm:max-w-lg'>
```

---

## Sheet 移动端适配

**强制规范**：`Sheet` 在不同设备上应该从不同方向弹出。

| 设备 | 弹出方向 | 原因 |
|------|---------|------|
| 桌面端 | 右侧 (right) | 不遮挡主内容，可参考 |
| 移动端 | 底部 (bottom) | 拇指操作友好 |

### 实现方式

```tsx
import { useMediaQuery } from '@/hooks/use-media-query'

function ResponsiveSheet({ open, onOpenChange, children }) {
  const isMobile = useMediaQuery('(max-width: 768px)')
  
  return (
    <Sheet open={open} onOpenChange={onOpenChange}>
      <SheetContent 
        side={isMobile ? 'bottom' : 'right'}
        className={isMobile ? 'h-[85vh]' : 'w-[500px] sm:max-w-[500px]'}
      >
        {children}
      </SheetContent>
    </Sheet>
  )
}
```

---

## useMediaQuery Hook

```tsx
// src/hooks/use-media-query.ts
import { useState, useEffect } from 'react'

export function useMediaQuery(query: string): boolean {
  const [matches, setMatches] = useState(false)

  useEffect(() => {
    const media = window.matchMedia(query)
    if (media.matches !== matches) {
      setMatches(media.matches)
    }
    const listener = () => setMatches(media.matches)
    media.addEventListener('change', listener)
    return () => media.removeEventListener('change', listener)
  }, [matches, query])

  return matches
}
```

---

## 响应式高度

弹窗内容区域使用 `vh` 单位确保在不同屏幕尺寸下都能正常显示：

```tsx
// ✅ 推荐：响应式高度
<div className='max-h-[60vh] min-h-[300px] overflow-y-auto py-1 px-1'>

// ❌ 避免：固定像素高度
<div className='h-[420px] overflow-y-auto'>
```

---

## 宽度断点对照

| 类名 | 宽度 | 适用场景 |
|-----|------|---------|
| `sm:max-w-sm` | 384px | 极简弹窗 |
| `sm:max-w-md` | 448px | 简单表单 |
| `sm:max-w-lg` | 512px | 标准表单 |
| `sm:max-w-xl` | 576px | 较多字段 |
| `sm:max-w-2xl` | 672px | 复杂表单 |
| `sm:max-w-3xl` | 768px | 多板块 Dialog |
