# 弹窗开发规范文档

本文档定义了后台管理系统弹窗组件的统一开发规范，确保所有弹窗在布局、交互和代码结构上保持一致。

## 目录

### 基础概念

- [01-弹窗类型选择](./01-弹窗类型选择.md) - 组件类型总览、Dialog vs Sheet 决策指南
- [02-核心依赖](./02-核心依赖.md) - 表单库、UI 组件依赖说明

### 弹窗类型规范

- [03-表单弹窗规范](./03-表单弹窗规范.md) - Dialog 标准表单、简单表单布局
- [04-抽屉弹窗规范](./04-抽屉弹窗规范.md) - Sheet 基础结构、分组标题
- [05-多板块弹窗规范](./05-多板块弹窗规范.md) - Tabs + Dialog/Sheet 模式
- [06-确认弹窗规范](./06-确认弹窗规范.md) - ConfirmDialog 使用规范

### 表单开发

- [07-表单验证](./07-表单验证.md) - Zod Schema、useForm 配置
- [08-输入组件](./08-输入组件.md) - 文本、密码、下拉、开关等组件

### 交互与体验

- [09-交互体验增强](./09-交互体验增强.md) - 脏表单拦截、嵌套弹窗、快捷编辑
- [10-数据加载与错误处理](./10-数据加载与错误处理.md) - Loading、错误回显、URL 状态同步
- [11-响应式与移动端适配](./11-响应式与移动端适配.md) - Dialog/Sheet 移动端表现

### 工程实践

- [12-弹窗文件分离规范](./12-弹窗文件分离规范.md) - 文件结构、代码模板、懒加载
- [13-完整示例](./13-完整示例.md) - 参考文件列表

### 附录

- [14-常见问题与反模式](./14-常见问题与反模式.md) - Do's and Don'ts、常见 Bug 避免
- [15-检查清单](./15-检查清单.md) - 开发新弹窗时的确认要点

---

## 快速参考

### 弹窗类型选择

| 类型 | 用途 | 组件 | 宽度 |
|------|------|------|------|
| **简单表单弹窗** | 邀请/快捷操作（≤5字段） | `Dialog` | `sm:max-w-md` |
| **标准表单弹窗** | 新建/编辑实体（6-15字段） | `Dialog` | `sm:max-w-lg` |
| **复杂表单抽屉** | 多板块配置/详情（>15字段） | `Sheet` + `Tabs` | 侧边全高 |
| **确认弹窗** | 删除/危险操作确认 | `ConfirmDialog` | 默认 |
| **详情抽屉** | 查看详情/只读 | `Sheet` | 侧边全高 |

### 文件目录结构

```text
src/features/{module}/              # 业务模块
├── index.tsx                       # 主页面（列表页）
└── components/                     # 模块独享组件
    ├── {module}-action-dialog.tsx  # [必须] 新建/编辑弹窗
    ├── {module}-delete-dialog.tsx  # [必须] 删除确认弹窗
    ├── {module}-detail-sheet.tsx   # [可选] 详情抽屉
    └── {module}-dialogs.tsx        # [可选] 弹窗聚合入口
```

### Props 接口规范

```tsx
interface ModuleActionDialogProps {
  open: boolean
  onOpenChange: (open: boolean) => void
  currentRow?: ItemType     // 如果有值则是编辑模式，否则是新建
  onSuccess?: () => void    // 成功后的回调
}
```
