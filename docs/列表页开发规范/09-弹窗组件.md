# å¼¹çª—ç»„ä»¶

åˆ—è¡¨é¡µæ¶‰åŠçš„æ–°å»ºã€ç¼–è¾‘ã€åˆ é™¤ã€æŸ¥çœ‹è¯¦æƒ…å¼¹çª—ï¼Œå¿…é¡»ä¸¥æ ¼éµå¾ª **[ã€Šå¼¹çª—å¼€å‘è§„èŒƒã€‹](../å¼¹çª—å¼€å‘è§„èŒƒ/README.md)**ã€‚

## æ ¸å¿ƒåŸåˆ™

1. **ç‹¬ç«‹æ–‡ä»¶**ï¼šè¯·å‹¿åœ¨åˆ—è¡¨é¡µæ–‡ä»¶ä¸­å†…è”ç¼–å†™å¼¹çª—ä»£ç ï¼Œåº”æŒ‰è§„èŒƒæ‹†åˆ†ä¸ºç‹¬ç«‹æ–‡ä»¶
2. **æ–‡ä»¶å‘½å**ï¼š`{module}-action-dialog.tsx`ã€`{module}-detail-sheet.tsx` ç­‰
3. **ç»„ä»¶å¯¹åº”**ï¼š
   - æŸ¥çœ‹è¯¦æƒ… â†’ `Sheet`ï¼ˆæŠ½å±‰ï¼‰
   - æ–°å»º/ç¼–è¾‘ â†’ `Dialog`ï¼ˆå¼¹çª—ï¼‰
   - åˆ é™¤ç¡®è®¤ â†’ `ConfirmDialog`

---

## æ–‡ä»¶ç»“æ„ç¤ºä¾‹

```
src/features/{module}/
â”œâ”€â”€ index.tsx
â””â”€â”€ components/
    â”œâ”€â”€ {module}-columns.tsx
    â”œâ”€â”€ {module}-table.tsx
    â”œâ”€â”€ {module}-action-dialog.tsx    # æ–°å»º/ç¼–è¾‘å¼¹çª—
    â”œâ”€â”€ {module}-detail-sheet.tsx     # æŸ¥çœ‹è¯¦æƒ…æŠ½å±‰
    â””â”€â”€ {module}-delete-dialog.tsx    # åˆ é™¤ç¡®è®¤å¼¹çª—ï¼ˆå¯é€‰ï¼Œå¯å¤ç”¨ ConfirmDialogï¼‰
```

---

## ä¸»é¡µé¢è°ƒç”¨ç¤ºä¾‹

```tsx
// index.tsx
import { ModuleActionDialog } from './components/module-action-dialog'
import { ModuleDetailSheet } from './components/module-detail-sheet'
import { ConfirmDialog } from '@/components/confirm-dialog'

export default function ModulePage() {
  const [actionOpen, setActionOpen] = useState(false)
  const [detailOpen, setDetailOpen] = useState(false)
  const [deleteOpen, setDeleteOpen] = useState(false)
  const [currentRow, setCurrentRow] = useState<ItemType | null>(null)

  return (
    <>
      {/* è¡¨æ ¼ */}
      <ModuleTable
        onView={(row) => { setCurrentRow(row); setDetailOpen(true) }}
        onEdit={(row) => { setCurrentRow(row); setActionOpen(true) }}
        onDelete={(row) => { setCurrentRow(row); setDeleteOpen(true) }}
      />

      {/* å¼¹çª—åŒºåŸŸ */}
      <ModuleActionDialog
        open={actionOpen}
        onOpenChange={setActionOpen}
        currentRow={currentRow}
      />
      <ModuleDetailSheet
        open={detailOpen}
        onOpenChange={setDetailOpen}
        currentRow={currentRow}
      />
      <ConfirmDialog
        open={deleteOpen}
        onOpenChange={setDeleteOpen}
        handleConfirm={() => handleDelete(currentRow?.id)}
        title='ç¡®è®¤åˆ é™¤'
        desc={`ç¡®å®šè¦åˆ é™¤ã€Œ${currentRow?.name}ã€å—ï¼Ÿæ­¤æ“ä½œæ— æ³•æ¢å¤ã€‚`}
        destructive
      />
    </>
  )
}
```

---

## å¼¹çª— Props è§„èŒƒ

```tsx
interface ActionDialogProps {
  open: boolean
  onOpenChange: (open: boolean) => void
  currentRow?: ItemType     // æœ‰å€¼ä¸ºç¼–è¾‘ï¼Œæ— å€¼ä¸ºæ–°å»º
  onSuccess?: () => void    // æ“ä½œæˆåŠŸå›è°ƒ
}

interface DetailSheetProps {
  open: boolean
  onOpenChange: (open: boolean) => void
  currentRow: ItemType | null
  onEdit?: (item: ItemType) => void  // "å»ç¼–è¾‘"æŒ‰é’®å›è°ƒ
}
```

---

## ç›¸å…³æ–‡æ¡£

> ğŸ“š **è¯¦ç»†è§„èŒƒ**ï¼šå¼¹çª—çš„è¡¨å•å¸ƒå±€ã€éªŒè¯è§„åˆ™ã€äº¤äº’è§„èŒƒç­‰ï¼Œè¯·æŸ¥é˜… [ã€Šå¼¹çª—å¼€å‘è§„èŒƒã€‹](../å¼¹çª—å¼€å‘è§„èŒƒ/README.md)
