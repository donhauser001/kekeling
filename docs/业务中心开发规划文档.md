# ç§‘ç§‘çµ - ä¸šåŠ¡ä¸­å¿ƒå¼€å‘è§„åˆ’æ–‡æ¡£

> ç‰ˆæœ¬: v1.0  
> æ›´æ–°æ—¥æœŸ: 2024-12-08  
> çŠ¶æ€: è§„åˆ’ä¸­

---

## ä¸€ã€æ¨¡å—æ¦‚è§ˆ

### 1.1 ä¸šåŠ¡ä¸­å¿ƒæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ä¸šåŠ¡ä¸­å¿ƒ (Business Center)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚   â”‚  æœåŠ¡åˆ†ç±»     â”‚ 1â”€N â”‚   æœåŠ¡ç®¡ç†    â”‚     â”‚   è®¢å•ç®¡ç†   â”‚           â”‚
â”‚   â”‚ Categories   â”‚â”€â”€â”€â”€â–ºâ”‚   Services   â”‚â—„â”€â”€â”€â”€â”‚    Orders    â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚          â”‚                    â”‚                    â”‚                    â”‚
â”‚          â”‚                    â”‚                    â”‚                    â”‚
â”‚          â–¼                    â–¼                    â–¼                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚   â”‚                    å°ç¨‹åºå±•ç¤ºå±‚                            â”‚         â”‚
â”‚   â”‚  â€¢ é¦–é¡µé‡‘åˆšåŒºå›¾æ ‡ â† æœåŠ¡åˆ†ç±»                               â”‚         â”‚
â”‚   â”‚  â€¢ æœåŠ¡åˆ—è¡¨/è¯¦æƒ… â† æœåŠ¡ç®¡ç†                                â”‚         â”‚
â”‚   â”‚  â€¢ ä¸‹å•é¡µé¢      â† æœåŠ¡+ä»·æ ¼                               â”‚         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚   â”‚  ä»·æ ¼æ”¿ç­–     â”‚     â”‚   æµç¨‹ç®¡ç†    â”‚     â”‚   æ¥å•è®¾ç½®   â”‚           â”‚
â”‚   â”‚   (MVPç®€åŒ–)  â”‚     â”‚   (MVPç®€åŒ–)  â”‚     â”‚  OrderConfig â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 å¼€å‘ä¼˜å…ˆçº§

| ä¼˜å…ˆçº§ | æ¨¡å— | MVP å¿…è¦æ€§ | å¤æ‚åº¦ | è¯´æ˜ |
|--------|------|-----------|--------|------|
| ğŸ”´ P0 | æœåŠ¡åˆ†ç±» | âœ… å¿…é¡» | â­ ä½ | é¦–é¡µé‡‘åˆšåŒºæ•°æ®æº |
| ğŸ”´ P0 | æœåŠ¡ç®¡ç† | âœ… å¿…é¡» | â­â­â­ é«˜ | å°ç¨‹åºæ ¸å¿ƒæ•°æ® |
| ğŸŸ¡ P1 | æ¥å•è®¾ç½® | âš ï¸ å»ºè®® | â­â­ ä¸­ | ä¸šåŠ¡è§„åˆ™é…ç½® |
| ğŸŸ¢ P2 | ä»·æ ¼æ”¿ç­– | âŒ å¯é€‰ | â­â­â­â­ é«˜ | MVP é˜¶æ®µç¡¬ç¼–ç  |
| ğŸŸ¢ P2 | æµç¨‹ç®¡ç† | âŒ å¯é€‰ | â­â­â­â­ é«˜ | MVP é˜¶æ®µå›ºå®šçŠ¶æ€æœº |

---

## äºŒã€æœåŠ¡åˆ†ç±» (Service Categories)

### 2.1 åŠŸèƒ½å®šä½

- **ä½œç”¨**: å°ç¨‹åºé¦–é¡µé‡‘åˆšåŒºå›¾æ ‡ã€æœåŠ¡ç­›é€‰åˆ†ç±»
- **ç¤ºä¾‹**: é™ªè¯Šç±»ã€ä»£åŠç±»ã€é™ªæŠ¤ç±»ã€å…¶ä»–æœåŠ¡

### 2.2 æ•°æ®æ¨¡å‹

```prisma
model ServiceCategory {
  id          String    @id @default(uuid())
  name        String                        // åˆ†ç±»åç§°
  icon        String?                       // å›¾æ ‡ URL æˆ–å›¾æ ‡åç§°
  description String?                       // åˆ†ç±»æè¿°
  sort        Int       @default(0)         // æ’åºæƒé‡
  status      String    @default("active")  // active, inactive
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  services    Service[]

  @@map("service_categories")
}
```

### 2.3 API è®¾è®¡

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| GET | `/api/service-categories` | è·å–åˆ†ç±»åˆ—è¡¨ |
| GET | `/api/service-categories/:id` | è·å–åˆ†ç±»è¯¦æƒ… |
| POST | `/api/service-categories` | åˆ›å»ºåˆ†ç±» |
| PUT | `/api/service-categories/:id` | æ›´æ–°åˆ†ç±» |
| DELETE | `/api/service-categories/:id` | åˆ é™¤åˆ†ç±» |

### 2.4 å‰ç«¯é¡µé¢è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æœåŠ¡åˆ†ç±»ç®¡ç†                                    [+ æ·»åŠ åˆ†ç±»] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ æ’åº â”‚  å›¾æ ‡  â”‚  åç§°  â”‚ æœåŠ¡æ•°â”‚ çŠ¶æ€ â”‚ åˆ›å»ºæ—¶é—´â”‚  æ“ä½œ  â”‚  â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚ â”‚  1  â”‚  ğŸ¥   â”‚ é™ªè¯Šç±» â”‚  5   â”‚ å¯ç”¨ â”‚ 12-01  â”‚ ç¼–è¾‘åˆ é™¤â”‚  â”‚
â”‚ â”‚  2  â”‚  ğŸ“‹   â”‚ ä»£åŠç±» â”‚  3   â”‚ å¯ç”¨ â”‚ 12-01  â”‚ ç¼–è¾‘åˆ é™¤â”‚  â”‚
â”‚ â”‚  3  â”‚  ğŸ›ï¸   â”‚ é™ªæŠ¤ç±» â”‚  2   â”‚ åœç”¨ â”‚ 12-02  â”‚ ç¼–è¾‘åˆ é™¤â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.5 è¡¨å•å­—æ®µ

| å­—æ®µ | ç±»å‹ | å¿…å¡« | ç»„ä»¶ | è¯´æ˜ |
|------|------|------|------|------|
| name | String | âœ… | Input | åˆ†ç±»åç§°ï¼Œ2-20å­— |
| icon | String | âŒ | IconPicker | å›¾æ ‡é€‰æ‹©å™¨ |
| description | String | âŒ | Textarea | åˆ†ç±»æè¿° |
| sort | Number | âŒ | NumberInput | æ’åºï¼Œæ•°å­—è¶Šå°è¶Šé å‰ |
| status | Enum | âœ… | Switch | å¯ç”¨/åœç”¨ |

### 2.6 å¼€å‘å·¥æ—¶é¢„ä¼°

- åç«¯ API: 2h
- å‰ç«¯é¡µé¢: 4h
- æ€»è®¡: **6h (1å¤©)**

---

## ä¸‰ã€æœåŠ¡ç®¡ç† (Services) ğŸŒŸ

### 3.1 åŠŸèƒ½å®šä½

- **ä½œç”¨**: å®šä¹‰å…·ä½“å”®å–çš„æœåŠ¡å•†å“
- **ç¤ºä¾‹**: å…¨ç¨‹é™ªè¯Šã€ä»£åŠæŒ‚å·ã€æŠ¥å‘Šä»£å–ã€ä½é™¢é™ªæŠ¤

### 3.2 æ•°æ®æ¨¡å‹

```prisma
model Service {
  id               String    @id @default(uuid())
  categoryId       String    @map("category_id")
  name             String                        // æœåŠ¡åç§°
  description      String?                       // æœåŠ¡ç®€ä»‹
  price            Float                         // åŸºç¡€ä»·æ ¼
  originalPrice    Float?    @map("original_price") // åŸä»·ï¼ˆç”¨äºåˆ’çº¿ä»·ï¼‰
  unit             String    @default("æ¬¡")      // å•ä½ï¼šæ¬¡ã€å¤©ã€å°æ—¶
  duration         String?                       // æœåŠ¡æ—¶é•¿æè¿°
  coverImage       String?   @map("cover_image") // å°é¢å›¾
  detailImages     String?   @map("detail_images") // è¯¦æƒ…å›¾ç‰‡ JSON
  serviceIncludes  String?   @map("service_includes") // æœåŠ¡åŒ…å« JSON
  serviceNotes     String?   @map("service_notes")    // æ³¨æ„äº‹é¡¹ JSON
  
  // ä¸šåŠ¡æ§åˆ¶
  minQuantity      Int       @default(1)         // æœ€å°è´­ä¹°æ•°é‡
  maxQuantity      Int       @default(99)        // æœ€å¤§è´­ä¹°æ•°é‡
  needPatient      Boolean   @default(true)      // æ˜¯å¦éœ€è¦å¡«å†™å°±è¯Šäºº
  needHospital     Boolean   @default(true)      // æ˜¯å¦éœ€è¦é€‰æ‹©åŒ»é™¢
  needDepartment   Boolean   @default(false)     // æ˜¯å¦éœ€è¦é€‰æ‹©ç§‘å®¤
  needDoctor       Boolean   @default(false)     // æ˜¯å¦éœ€è¦é€‰æ‹©åŒ»ç”Ÿ
  needAppointment  Boolean   @default(true)      // æ˜¯å¦éœ€è¦é¢„çº¦æ—¶é—´
  
  orderCount       Int       @default(0)         // è®¢å•æ•°
  rating           Float     @default(5.0)       // è¯„åˆ†
  sort             Int       @default(0)         // æ’åº
  status           String    @default("active")  // active, inactive
  createdAt        DateTime  @default(now())
  updatedAt        DateTime  @updatedAt

  category         ServiceCategory @relation(...)
  orders           Order[]

  @@map("services")
}
```

### 3.3 JSON å­—æ®µç»“æ„

#### serviceIncludes (æœåŠ¡åŒ…å«)

```json
[
  { "text": "ä¸“ä¸šé™ªè¯Šå¸ˆå…¨ç¨‹é™ªåŒ", "icon": "check" },
  { "text": "ååŠ©æŒ‚å·ã€å–å·ã€æ’é˜Ÿ", "icon": "check" },
  { "text": "å…è´¹é€šè¯3æ¬¡", "icon": "phone" },
  { "text": "æœåŠ¡æŠ¥å‘Š1ä»½", "icon": "file" }
]
```

#### serviceNotes (æ³¨æ„äº‹é¡¹)

```json
[
  { 
    "title": "æœåŠ¡æ—¶é—´", 
    "content": "æœåŠ¡æ—¶é—´ä¸ºå½“æ—¥8:00-17:00ï¼Œè¶…æ—¶éœ€é¢å¤–ä»˜è´¹" 
  },
  { 
    "title": "å–æ¶ˆæ”¿ç­–", 
    "content": "æœåŠ¡å¼€å§‹å‰24å°æ—¶å¯å…è´¹å–æ¶ˆï¼Œ24å°æ—¶å†…å–æ¶ˆæ‰£é™¤50%è´¹ç”¨" 
  },
  { 
    "title": "ç‰¹åˆ«è¯´æ˜", 
    "content": "æœ¬æœåŠ¡ä¸åŒ…å«æŒ‚å·è´¹ã€æ£€æŸ¥è´¹ç­‰åŒ»ç–—è´¹ç”¨" 
  }
]
```

### 3.4 API è®¾è®¡

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| GET | `/api/services` | è·å–æœåŠ¡åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†ç±»ç­›é€‰ï¼‰ |
| GET | `/api/services/:id` | è·å–æœåŠ¡è¯¦æƒ… |
| POST | `/api/services` | åˆ›å»ºæœåŠ¡ |
| PUT | `/api/services/:id` | æ›´æ–°æœåŠ¡ |
| DELETE | `/api/services/:id` | åˆ é™¤æœåŠ¡ |

### 3.5 å‰ç«¯é¡µé¢è®¾è®¡

#### æœåŠ¡åˆ—è¡¨é¡µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æœåŠ¡ç®¡ç†                                              [+ æ·»åŠ æœåŠ¡]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åˆ†ç±»: [å…¨éƒ¨ â–¼]  çŠ¶æ€: [å…¨éƒ¨ â–¼]  æœç´¢: [______________] [æœç´¢]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [å°é¢]  å…¨ç¨‹é™ªè¯ŠæœåŠ¡                              [ç¼–è¾‘][åˆ é™¤]â”‚   â”‚
â”‚  â”‚         é™ªè¯Šç±» | Â¥299/æ¬¡ | å·²å”® 156 | â­4.9                   â”‚   â”‚
â”‚  â”‚         ä¸“ä¸šé™ªè¯Šå¸ˆå…¨ç¨‹é™ªåŒå°±åŒ»ï¼ŒååŠ©æŒ‚å·ã€æ’é˜Ÿ...             â”‚   â”‚
â”‚  â”‚         çŠ¶æ€: âœ… å·²ä¸Šæ¶                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [å°é¢]  ä»£åŠæŒ‚å·æœåŠ¡                              [ç¼–è¾‘][åˆ é™¤]â”‚   â”‚
â”‚  â”‚         ä»£åŠç±» | Â¥99/æ¬¡ | å·²å”® 328 | â­4.8                    â”‚   â”‚
â”‚  â”‚         ä¸“ä¸šä»£åŠå„å¤§åŒ»é™¢æŒ‚å·ï¼Œçœæ—¶çœåŠ›...                     â”‚   â”‚
â”‚  â”‚         çŠ¶æ€: âœ… å·²ä¸Šæ¶                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æœåŠ¡ç¼–è¾‘è¡¨å•

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ·»åŠ æœåŠ¡                                                   [è¿”å›]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• åŸºæœ¬ä¿¡æ¯ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                           â”‚
â”‚                                                                     â”‚
â”‚ æœåŠ¡åç§° *     [________________________]                           â”‚
â”‚ æœåŠ¡åˆ†ç±» *     [é™ªè¯Šç±» â–¼]                                          â”‚
â”‚ æœåŠ¡ç®€ä»‹       [________________________]                           â”‚
â”‚ å°é¢å›¾ç‰‡       [ç‚¹å‡»ä¸Šä¼ ] å»ºè®®å°ºå¯¸ 750x400                          â”‚
â”‚                                                                     â”‚
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• ä»·æ ¼é…ç½® â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                           â”‚
â”‚                                                                     â”‚
â”‚ é”€å”®ä»·æ ¼ *     [Â¥ 299    ] å…ƒ/[æ¬¡ â–¼]                               â”‚
â”‚ åŸä»·ï¼ˆåˆ’çº¿ä»·ï¼‰ [Â¥ 399    ] (é€‰å¡«ï¼Œç”¨äºå±•ç¤ºä¼˜æƒ )                    â”‚
â”‚ æœåŠ¡æ—¶é•¿       [çº¦ 4-6 å°æ—¶]                                        â”‚
â”‚                                                                     â”‚
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• æœåŠ¡ä¿éšœ (å¯æ·»åŠ å¤šæ¡) â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•              â”‚
â”‚                                                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ âœ… [ä¸“ä¸šé™ªè¯Šå¸ˆå…¨ç¨‹é™ªåŒ                            ] [åˆ é™¤]   â”‚   â”‚
â”‚ â”‚ âœ… [ååŠ©æŒ‚å·ã€å–å·ã€æ’é˜Ÿ                          ] [åˆ é™¤]   â”‚   â”‚
â”‚ â”‚ âœ… [å…è´¹é€šè¯3æ¬¡                                   ] [åˆ é™¤]   â”‚   â”‚
â”‚ â”‚                                          [+ æ·»åŠ æœåŠ¡ä¿éšœ]    â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• é¢„è®¢é¡»çŸ¥ (å¯æ·»åŠ å¤šæ¡) â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•              â”‚
â”‚                                                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ æ ‡é¢˜: [æœåŠ¡æ—¶é—´        ]                             [åˆ é™¤]  â”‚   â”‚
â”‚ â”‚ å†…å®¹: [æœåŠ¡æ—¶é—´ä¸ºå½“æ—¥8:00-17:00ï¼Œè¶…æ—¶éœ€é¢å¤–ä»˜è´¹     ]        â”‚   â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚ æ ‡é¢˜: [å–æ¶ˆæ”¿ç­–        ]                             [åˆ é™¤]  â”‚   â”‚
â”‚ â”‚ å†…å®¹: [æœåŠ¡å¼€å§‹å‰24å°æ—¶å¯å…è´¹å–æ¶ˆ...                 ]        â”‚   â”‚
â”‚ â”‚                                          [+ æ·»åŠ é¢„è®¢é¡»çŸ¥]    â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• ä¸šåŠ¡é…ç½® â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                           â”‚
â”‚                                                                     â”‚
â”‚ éœ€è¦å¡«å†™å°±è¯Šäºº   [âœ“]     éœ€è¦é€‰æ‹©åŒ»é™¢   [âœ“]                        â”‚
â”‚ éœ€è¦é€‰æ‹©ç§‘å®¤     [ ]     éœ€è¦é€‰æ‹©åŒ»ç”Ÿ   [ ]                        â”‚
â”‚ éœ€è¦é¢„çº¦æ—¶é—´     [âœ“]                                                â”‚
â”‚                                                                     â”‚
â”‚ è´­ä¹°æ•°é‡é™åˆ¶     æœ€å°‘ [1] æ¬¡    æœ€å¤š [10] æ¬¡                       â”‚
â”‚                                                                     â”‚
â”‚                                                                     â”‚
â”‚                               [å–æ¶ˆ]  [ä¿å­˜å¹¶ä¸Šæ¶]  [ä»…ä¿å­˜è‰ç¨¿]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.6 å‰ç«¯ Schema å®šä¹‰

```typescript
// src/features/business/services/data/schema.ts

import { z } from 'zod'

// æœåŠ¡åŒ…å«é¡¹
export const serviceIncludeSchema = z.object({
  text: z.string().min(1, 'å†…å®¹ä¸èƒ½ä¸ºç©º'),
  icon: z.string().optional(),
})

// é¢„è®¢é¡»çŸ¥é¡¹
export const serviceNoteSchema = z.object({
  title: z.string().min(1, 'æ ‡é¢˜ä¸èƒ½ä¸ºç©º'),
  content: z.string().min(1, 'å†…å®¹ä¸èƒ½ä¸ºç©º'),
})

// æœåŠ¡çŠ¶æ€
export const serviceStatusSchema = z.enum(['active', 'inactive', 'draft'])

// æœåŠ¡è¡¨å• Schema
export const serviceFormSchema = z.object({
  // åŸºæœ¬ä¿¡æ¯
  name: z.string().min(2, 'åç§°è‡³å°‘2ä¸ªå­—').max(50, 'åç§°æœ€å¤š50ä¸ªå­—'),
  categoryId: z.string().min(1, 'è¯·é€‰æ‹©æœåŠ¡åˆ†ç±»'),
  description: z.string().max(500, 'ç®€ä»‹æœ€å¤š500å­—').optional(),
  coverImage: z.string().optional(),
  detailImages: z.array(z.string()).optional(),
  
  // ä»·æ ¼é…ç½®
  price: z.coerce.number().min(0, 'ä»·æ ¼ä¸èƒ½ä¸ºè´Ÿ'),
  originalPrice: z.coerce.number().min(0).optional(),
  unit: z.string().default('æ¬¡'),
  duration: z.string().optional(),
  
  // æœåŠ¡å†…å®¹
  serviceIncludes: z.array(serviceIncludeSchema).default([]),
  serviceNotes: z.array(serviceNoteSchema).default([]),
  
  // ä¸šåŠ¡é…ç½®
  needPatient: z.boolean().default(true),
  needHospital: z.boolean().default(true),
  needDepartment: z.boolean().default(false),
  needDoctor: z.boolean().default(false),
  needAppointment: z.boolean().default(true),
  minQuantity: z.coerce.number().min(1).default(1),
  maxQuantity: z.coerce.number().min(1).default(99),
  
  // çŠ¶æ€
  status: serviceStatusSchema.default('draft'),
  sort: z.coerce.number().default(0),
})

export type ServiceForm = z.infer<typeof serviceFormSchema>
```

### 3.7 åŠ¨æ€è¡¨å•æ•°ç»„ç»„ä»¶

```tsx
// src/features/business/services/components/service-includes-field.tsx

import { useFieldArray, useFormContext } from 'react-hook-form'
import { Plus, Trash2 } from 'lucide-react'
import { Button } from '@/components/ui/button'
import { Input } from '@/components/ui/input'
import { FormField, FormItem, FormControl, FormMessage } from '@/components/ui/form'

export function ServiceIncludesField() {
  const { control } = useFormContext()
  const { fields, append, remove } = useFieldArray({
    control,
    name: 'serviceIncludes',
  })

  return (
    <div className='space-y-3'>
      {fields.map((field, index) => (
        <div key={field.id} className='flex items-center gap-2'>
          <span className='text-primary'>âœ…</span>
          <FormField
            control={control}
            name={`serviceIncludes.${index}.text`}
            render={({ field }) => (
              <FormItem className='flex-1'>
                <FormControl>
                  <Input placeholder='å¦‚ï¼šä¸“ä¸šé™ªè¯Šå¸ˆå…¨ç¨‹é™ªåŒ' {...field} />
                </FormControl>
                <FormMessage />
              </FormItem>
            )}
          />
          <Button
            type='button'
            variant='ghost'
            size='icon'
            onClick={() => remove(index)}
          >
            <Trash2 className='h-4 w-4' />
          </Button>
        </div>
      ))}
      <Button
        type='button'
        variant='outline'
        size='sm'
        onClick={() => append({ text: '', icon: 'check' })}
      >
        <Plus className='mr-2 h-4 w-4' />
        æ·»åŠ æœåŠ¡ä¿éšœ
      </Button>
    </div>
  )
}
```

### 3.8 å¼€å‘å·¥æ—¶é¢„ä¼°

- åç«¯ API: 4h
- å‰ç«¯åˆ—è¡¨é¡µ: 4h
- å‰ç«¯è¡¨å•é¡µ: 8h
- å›¾ç‰‡ä¸Šä¼ ç»„ä»¶: 4h
- æ€»è®¡: **20h (2.5å¤©)**

---

## å››ã€æ¥å•è®¾ç½® (Order Settings)

### 4.1 åŠŸèƒ½å®šä½

- **ä½œç”¨**: é…ç½®è®¢å•ç›¸å…³çš„ä¸šåŠ¡è§„åˆ™
- **å­˜å‚¨**: ä½¿ç”¨ Config è¡¨ï¼ŒKey-Value å­˜å‚¨

### 4.2 é…ç½®é¡¹è®¾è®¡

| é…ç½®é”® | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|--------|------|
| `order.auto_cancel_minutes` | Number | 15 | æœªæ”¯ä»˜è®¢å•è‡ªåŠ¨å–æ¶ˆæ—¶é—´(åˆ†é’Ÿ) |
| `order.auto_complete_hours` | Number | 24 | æœåŠ¡å®Œæˆåè‡ªåŠ¨ç¡®è®¤æ—¶é—´(å°æ—¶) |
| `order.platform_fee_rate` | Number | 0.2 | å¹³å°æŠ½æˆæ¯”ä¾‹ (20%) |
| `order.dispatch_mode` | Enum | 'grab' | æ´¾å•æ¨¡å¼: grab(æŠ¢å•)/assign(æŒ‡æ´¾)/mixed(æ··åˆ) |
| `order.grab_timeout_minutes` | Number | 30 | æŠ¢å•è¶…æ—¶æ—¶é—´(åˆ†é’Ÿ) |
| `order.allow_refund_before_start` | Boolean | true | æœåŠ¡å¼€å§‹å‰æ˜¯å¦å…è®¸é€€æ¬¾ |
| `order.refund_fee_rate` | Number | 0.5 | å–æ¶ˆè®¢å•æ‰£æ¬¾æ¯”ä¾‹ (50%) |

### 4.3 å‰ç«¯é¡µé¢è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¥å•è®¾ç½®                                                   [ä¿å­˜]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• è®¢å•è¶…æ—¶è®¾ç½® â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                       â”‚
â”‚                                                                     â”‚
â”‚ æœªæ”¯ä»˜è‡ªåŠ¨å–æ¶ˆ     [15] åˆ†é’Ÿåè‡ªåŠ¨å–æ¶ˆæœªæ”¯ä»˜è®¢å•                    â”‚
â”‚ æœåŠ¡è‡ªåŠ¨å®Œæˆ       [24] å°æ—¶åè‡ªåŠ¨ç¡®è®¤å®Œæˆ                          â”‚
â”‚                                                                     â”‚
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• æ´¾å•è®¾ç½® â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                           â”‚
â”‚                                                                     â”‚
â”‚ æ´¾å•æ¨¡å¼           â—‹ æŠ¢å•æ¨¡å¼ (é™ªè¯Šå¸ˆä¸»åŠ¨æŠ¢å•)                      â”‚
â”‚                   â— æŒ‡æ´¾æ¨¡å¼ (ç®¡ç†å‘˜æ‰‹åŠ¨æŒ‡æ´¾)                       â”‚
â”‚                   â—‹ æ··åˆæ¨¡å¼ (å…ˆæŠ¢å•ï¼Œè¶…æ—¶åæŒ‡æ´¾)                   â”‚
â”‚                                                                     â”‚
â”‚ æŠ¢å•è¶…æ—¶æ—¶é—´       [30] åˆ†é’Ÿ (æ··åˆæ¨¡å¼ä¸‹ï¼Œè¶…æ—¶åè½¬ä¸ºæŒ‡æ´¾)           â”‚
â”‚                                                                     â”‚
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• è´¹ç”¨è®¾ç½® â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                           â”‚
â”‚                                                                     â”‚
â”‚ å¹³å°æŠ½æˆæ¯”ä¾‹       [20] % (ä»é™ªè¯Šå¸ˆæ”¶å…¥ä¸­æ‰£é™¤)                      â”‚
â”‚                                                                     â”‚
â”‚ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• é€€æ¬¾æ”¿ç­– â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                           â”‚
â”‚                                                                     â”‚
â”‚ å…è®¸æœåŠ¡å‰é€€æ¬¾     [âœ“] æœåŠ¡å¼€å§‹å‰å¯ç”³è¯·é€€æ¬¾                         â”‚
â”‚ å–æ¶ˆæ‰£æ¬¾æ¯”ä¾‹       [50] % (æœåŠ¡å¼€å§‹åå–æ¶ˆæ‰£æ¬¾)                      â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.4 å¼€å‘å·¥æ—¶é¢„ä¼°

- åç«¯ API: 2h
- å‰ç«¯é¡µé¢: 4h
- æ€»è®¡: **6h (1å¤©)**

---

## äº”ã€MVP ç®€åŒ–æ¨¡å—

### 5.1 ä»·æ ¼æ”¿ç­– (Pricing Policies)

**MVP ç­–ç•¥**: æš‚ä¸å¼€å‘ç‹¬ç«‹é¡µé¢ï¼Œè§„åˆ™ç¡¬ç¼–ç åœ¨åç«¯

```typescript
// server/src/modules/orders/orders.service.ts

// MVP é˜¶æ®µçš„ä»·æ ¼è®¡ç®—é€»è¾‘
calculatePrice(basePrice: number, appointmentTime: Date): number {
  let finalPrice = basePrice;
  
  const hour = appointmentTime.getHours();
  
  // å¤œé—´æœåŠ¡è´¹ (22:00-06:00)
  if (hour >= 22 || hour < 6) {
    finalPrice += 50; // åŠ æ”¶ 50 å…ƒ
  }
  
  // å‘¨æœ«æœåŠ¡è´¹
  const dayOfWeek = appointmentTime.getDay();
  if (dayOfWeek === 0 || dayOfWeek === 6) {
    finalPrice += 30; // åŠ æ”¶ 30 å…ƒ
  }
  
  return finalPrice;
}
```

**æœªæ¥æ‰©å±•**: 2.0 ç‰ˆæœ¬å¯å¼€å‘å¯è§†åŒ–è§„åˆ™å¼•æ“

### 5.2 æµç¨‹ç®¡ç† (Workflows)

**MVP ç­–ç•¥**: å›ºå®šçŠ¶æ€æœºï¼Œåªè¯»å±•ç¤º

```
è®¢å•çŠ¶æ€æµè½¬å›¾ (å›ºå®š)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ pending â”‚â”€â”€â”€â”€â–ºâ”‚  paid   â”‚â”€â”€â”€â”€â–ºâ”‚assigned â”‚â”€â”€â”€â”€â–ºâ”‚in_progressâ”‚
â”‚ å¾…æ”¯ä»˜  â”‚     â”‚ å·²æ”¯ä»˜  â”‚     â”‚ å·²æŒ‡æ´¾  â”‚     â”‚ è¿›è¡Œä¸­   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                                               â”‚
     â”‚ å–æ¶ˆ                                          â”‚ å®Œæˆ
     â–¼                                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚cancelledâ”‚                                    â”‚completedâ”‚
â”‚ å·²å–æ¶ˆ  â”‚                                    â”‚ å·²å®Œæˆ  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                    â”‚
                                                    â”‚ é€€æ¬¾
                                                    â–¼
                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                              â”‚refunded â”‚
                                              â”‚ å·²é€€æ¬¾  â”‚
                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å‰ç«¯å±•ç¤º**: ä½¿ç”¨ Mermaid æˆ–ç®€å•çš„ SVG å›¾ç¤º

---

## å…­ã€å¼€å‘æ‰§è¡Œè®¡åˆ’

### 6.1 æ—¶é—´çº¿

```
Week 1 (Day 1-3)
â”œâ”€â”€ Day 1: æœåŠ¡åˆ†ç±» CRUD (åç«¯+å‰ç«¯)
â”œâ”€â”€ Day 2: æœåŠ¡ç®¡ç†åç«¯ API
â””â”€â”€ Day 3: æœåŠ¡ç®¡ç†å‰ç«¯åˆ—è¡¨é¡µ

Week 2 (Day 4-6)
â”œâ”€â”€ Day 4: æœåŠ¡ç®¡ç†è¡¨å•é¡µ (åŸºæœ¬ä¿¡æ¯+ä»·æ ¼)
â”œâ”€â”€ Day 5: æœåŠ¡ç®¡ç†è¡¨å•é¡µ (åŠ¨æ€æ•°ç»„+ä¸šåŠ¡é…ç½®)
â””â”€â”€ Day 6: æ¥å•è®¾ç½®é¡µé¢ + è”è°ƒæµ‹è¯•

æ€»è®¡: 6 ä¸ªå·¥ä½œæ—¥
```

### 6.2 é‡Œç¨‹ç¢‘

| é‡Œç¨‹ç¢‘ | å®Œæˆæ ‡å‡† | æˆªæ­¢æ—¶é—´ |
|--------|---------|---------|
| M1: æœåŠ¡åˆ†ç±» | åˆ†ç±» CRUD å®Œæˆï¼Œå°ç¨‹åºé¦–é¡µå¯å±•ç¤º | Day 1 |
| M2: æœåŠ¡ç®¡ç† | æœåŠ¡ CRUD å®Œæˆï¼Œå°ç¨‹åºå¯ä¸‹å• | Day 5 |
| M3: ä¸šåŠ¡é…ç½® | æ¥å•è®¾ç½®å®Œæˆï¼Œè®¢å•æµç¨‹è·‘é€š | Day 6 |

---

## ä¸ƒã€æŠ€æœ¯è¦ç‚¹

### 7.1 JSON å­—æ®µå¤„ç†

**åç«¯ (NestJS)**:
```typescript
// åˆ›å»ºæœåŠ¡æ—¶ï¼Œå‰ç«¯ä¼  Arrayï¼ŒPrisma è‡ªåŠ¨å¤„ç†
async create(dto: CreateServiceDto) {
  return this.prisma.service.create({
    data: {
      ...dto,
      // Postgres åŸç”Ÿæ”¯æŒæ•°ç»„ï¼Œæ— éœ€è½¬æ¢
      // å¦‚æœæ˜¯ MySQLï¼Œéœ€è¦ JSON.stringify(dto.serviceIncludes)
    },
  });
}
```

**å‰ç«¯ (React Hook Form)**:
```typescript
// è¡¨å•æäº¤æ—¶
const onSubmit = async (data: ServiceForm) => {
  // ç›´æ¥æäº¤ï¼Œæ— éœ€ç‰¹æ®Šå¤„ç†
  await createService(data);
};
```

### 7.2 å›¾ç‰‡ä¸Šä¼ 

å»ºè®®ä½¿ç”¨ç°æœ‰çš„äº‘å­˜å‚¨æœåŠ¡ï¼ˆå¦‚é˜¿é‡Œäº‘ OSSï¼‰ï¼Œæˆ–å®ç°ç®€å•çš„æœ¬åœ°ä¸Šä¼ ï¼š

```typescript
// server/src/modules/upload/upload.controller.ts
@Post('image')
@UseInterceptors(FileInterceptor('file'))
async uploadImage(@UploadedFile() file: Express.Multer.File) {
  // ä¿å­˜åˆ° public/uploads æˆ–ä¸Šä¼ åˆ° OSS
  const url = `/uploads/${file.filename}`;
  return { url };
}
```

---

## å…«ã€ä¸å°ç¨‹åºå¯¹æ¥

### 8.1 é¦–é¡µé‡‘åˆšåŒº

```tsx
// miniapp/src/pages/index/index.tsx
const { data: categories } = useRequest(() => 
  api.get('/api/service-categories?status=active')
);

// æ¸²æŸ“é‡‘åˆšåŒº
<View className='grid-4'>
  {categories.map(cat => (
    <View key={cat.id} onClick={() => navigateTo(`/pages/services?categoryId=${cat.id}`)}>
      <Image src={cat.icon} />
      <Text>{cat.name}</Text>
    </View>
  ))}
</View>
```

### 8.2 æœåŠ¡è¯¦æƒ…é¡µ

```tsx
// miniapp/src/pages/services/detail.tsx
const { data: service } = useRequest(() => 
  api.get(`/api/services/${id}`)
);

// æ¸²æŸ“æœåŠ¡åŒ…å«
<View className='service-includes'>
  {service.serviceIncludes?.map((item, i) => (
    <View key={i} className='include-item'>
      <Text className='icon'>âœ…</Text>
      <Text>{item.text}</Text>
    </View>
  ))}
</View>

// æ¸²æŸ“é¢„è®¢é¡»çŸ¥
<View className='service-notes'>
  {service.serviceNotes?.map((note, i) => (
    <View key={i} className='note-item'>
      <Text className='title'>{note.title}</Text>
      <Text className='content'>{note.content}</Text>
    </View>
  ))}
</View>
```

---

## ä¹ã€æ€»ç»“

### æ ¸å¿ƒåŸåˆ™

1. **MVP ä¼˜å…ˆ**: å…ˆå®ŒæˆæœåŠ¡åˆ†ç±»å’ŒæœåŠ¡ç®¡ç†ï¼Œç¡®ä¿å°ç¨‹åºèƒ½ä¸‹å•
2. **é‡é…ç½®è½»è§„åˆ™**: ä»·æ ¼æ”¿ç­–ã€æµç¨‹ç®¡ç†æš‚æ—¶ç¡¬ç¼–ç 
3. **JSON çµæ´»æ€§**: æœåŠ¡å†…å®¹ã€é¡»çŸ¥ç”¨ JSON å­˜å‚¨ï¼Œä¾¿äºæ‰©å±•

### åç»­æ‰©å±•

- 2.0: å¯è§†åŒ–ä»·æ ¼è§„åˆ™å¼•æ“
- 2.0: è‡ªå®šä¹‰è®¢å•çŠ¶æ€æµç¨‹
- 2.0: æœåŠ¡è§„æ ¼/SKU ç®¡ç†
- 3.0: å¤šç§Ÿæˆ·æ”¯æŒ

