# åˆ—è¡¨é¡µå¼€å‘è§„èŒƒæ–‡æ¡£

æœ¬æ–‡æ¡£å®šä¹‰äº†åå°ç®¡ç†ç³»ç»Ÿåˆ—è¡¨é¡µçš„ç»Ÿä¸€å¼€å‘è§„èŒƒï¼Œç¡®ä¿æ‰€æœ‰åˆ—è¡¨é¡µåœ¨å¸ƒå±€ã€äº¤äº’å’Œä»£ç ç»“æ„ä¸Šä¿æŒä¸€è‡´ã€‚

## ç›®å½•

- [æ–‡ä»¶ç»“æ„](#æ–‡ä»¶ç»“æ„)
- [é¡µé¢å¸ƒå±€](#é¡µé¢å¸ƒå±€)
- [è¡¨æ ¼ç»„ä»¶](#è¡¨æ ¼ç»„ä»¶)
- [åˆ—å®šä¹‰](#åˆ—å®šä¹‰)
- [çŠ¶æ€æ ‡ç­¾æ ·å¼](#çŠ¶æ€æ ‡ç­¾æ ·å¼)
- [æ“ä½œåˆ—èœå•](#æ“ä½œåˆ—èœå•)
- [ç¿»é¡µç»„ä»¶](#ç¿»é¡µç»„ä»¶)
- [å·¥å…·æ é…ç½®](#å·¥å…·æ é…ç½®)
- [å¼¹çª—ç»„ä»¶](#å¼¹çª—ç»„ä»¶)
- [å®Œæ•´ç¤ºä¾‹](#å®Œæ•´ç¤ºä¾‹)
- [æ£€æŸ¥æ¸…å•](#æ£€æŸ¥æ¸…å•)

---

## æ–‡ä»¶ç»“æ„

æ¯ä¸ªåˆ—è¡¨é¡µæ¨¡å—åº”é‡‡ç”¨ä»¥ä¸‹æ–‡ä»¶ç»“æ„ï¼š

```
src/features/{module-name}/
â”œâ”€â”€ index.tsx                      # ä¸»é¡µé¢ï¼ˆæ•°æ®è·å–ã€å¼¹çª—çŠ¶æ€ã€å¸ƒå±€ï¼‰
â””â”€â”€ components/
    â”œâ”€â”€ {module}-columns.tsx       # åˆ—å®šä¹‰
    â”œâ”€â”€ {module}-table.tsx         # è¡¨æ ¼ç»„ä»¶
    â””â”€â”€ {module}-dialogs.tsx       # å¼¹çª—ç»„ä»¶ï¼ˆå¯é€‰ï¼Œå¤æ‚æ—¶æ‹†åˆ†ï¼‰
```

**å‘½åè§„èŒƒï¼š**
- æ–‡ä»¶åä½¿ç”¨ `kebab-case`ï¼ˆå¦‚ `campaigns-columns.tsx`ï¼‰
- ç»„ä»¶åä½¿ç”¨ `PascalCase`ï¼ˆå¦‚ `CampaignsTable`ï¼‰
- åˆ—å®šä¹‰å‡½æ•°ä½¿ç”¨ `get{Module}Columns` æ ¼å¼

---

## é¡µé¢å¸ƒå±€

### åŸºæœ¬ç»“æ„

```tsx
import { Header } from '@/components/layout/header'
import { Main } from '@/components/layout/main'
import { TopNav } from '@/components/layout/top-nav'

export function ModulePage() {
  return (
    <>
      <Header fixed>
        <TopNav links={topNav} />
        <div className='ms-auto flex items-center space-x-4'>
          <Search />
          <MessageButton />
          <ThemeSwitch />
          <ConfigDrawer />
          <ProfileDropdown />
        </div>
      </Header>

      <Main className='flex flex-1 flex-col gap-4 sm:gap-6'>
        {/* æ ‡é¢˜åŒº */}
        <div className='flex flex-wrap items-end justify-between gap-2'>
          <div>
            <h2 className='text-2xl font-bold tracking-tight'>é¡µé¢æ ‡é¢˜</h2>
            <p className='text-muted-foreground'>é¡µé¢æè¿°æ–‡å­—</p>
          </div>
          <Button onClick={handleCreate}>
            <Plus className='mr-2 h-4 w-4' />
            æ–°å»ºæŒ‰é’®
          </Button>
        </div>

        {/* è¡¨æ ¼ç»„ä»¶ */}
        <ModuleTable ... />
      </Main>

      {/* å¼¹çª— */}
      <Dialog ... />
    </>
  )
}
```

### å¸ƒå±€è¦ç‚¹

1. **ä¸ä½¿ç”¨ Card åŒ…è£¹**ï¼šè¡¨æ ¼ç›´æ¥æ”¾åœ¨ `Main` ç»„ä»¶å†…
2. **æ ‡é¢˜åŒºä¸æ“ä½œæŒ‰é’®**ï¼šä½¿ç”¨ `flex justify-between` å¸ƒå±€
3. **é—´è·**ï¼šä½¿ç”¨ `gap-4 sm:gap-6` ç»Ÿä¸€é—´è·

---

## è¡¨æ ¼ç»„ä»¶

### æ ¸å¿ƒä¾èµ–

```tsx
import {
  type ColumnFiltersState,
  type PaginationState,
  type SortingState,
  type VisibilityState,
  flexRender,
  getCoreRowModel,
  getFacetedRowModel,
  getFacetedUniqueValues,
  getFilteredRowModel,
  getPaginationRowModel,
  getSortedRowModel,
  useReactTable,
} from '@tanstack/react-table'
```

### è¡¨æ ¼é…ç½®ï¼ˆæœåŠ¡ç«¯åˆ†é¡µï¼‰

```tsx
const table = useReactTable({
  data,
  columns,
  pageCount: Math.ceil(total / pageSize),
  state: {
    sorting,
    pagination,
    rowSelection,
    columnFilters,
    columnVisibility,
  },
  manualPagination: true,  // å…³é”®ï¼šæœåŠ¡ç«¯åˆ†é¡µ
  enableRowSelection: true,
  onRowSelectionChange: setRowSelection,
  onSortingChange: setSorting,
  onColumnFiltersChange: setColumnFilters,
  onColumnVisibilityChange: setColumnVisibility,
  onPaginationChange: (updater) => {
    const newPagination = typeof updater === 'function' ? updater(pagination) : updater
    if (newPagination.pageIndex !== pagination.pageIndex) {
      onPageChange(newPagination.pageIndex + 1)
    }
    if (newPagination.pageSize !== pagination.pageSize) {
      onPageSizeChange(newPagination.pageSize)
    }
  },
  getCoreRowModel: getCoreRowModel(),
  getFilteredRowModel: getFilteredRowModel(),
  getPaginationRowModel: getPaginationRowModel(),
  getSortedRowModel: getSortedRowModel(),
  getFacetedRowModel: getFacetedRowModel(),
  getFacetedUniqueValues: getFacetedUniqueValues(),
})
```

### è¡¨æ ¼æ¸²æŸ“æ¨¡æ¿

```tsx
import { Skeleton } from '@/components/ui/skeleton'

<div className='overflow-hidden rounded-md border'>
  <Table>
    <TableHeader>
      {table.getHeaderGroups().map((headerGroup) => (
        <TableRow key={headerGroup.id} className='group/row'>
          {headerGroup.headers.map((header) => (
            <TableHead
              key={header.id}
              colSpan={header.colSpan}
              className={cn(
                'bg-background group-hover/row:bg-muted group-data-[state=selected]/row:bg-muted',
                header.column.columnDef.meta?.className
              )}
            >
              {header.isPlaceholder
                ? null
                : flexRender(
                  header.column.columnDef.header,
                  header.getContext()
                )}
            </TableHead>
          ))}
        </TableRow>
      ))}
    </TableHeader>
    <TableBody>
      {isLoading ? (
        // ä½¿ç”¨ Skeleton éª¨æ¶å±ï¼Œé˜²æ­¢å¸ƒå±€æŠ–åŠ¨
        Array.from({ length: 10 }).map((_, i) => (
          <TableRow key={i}>
            {columns.map((_, j) => (
              <TableCell key={j}>
                <Skeleton className='h-4 w-full' />
              </TableCell>
            ))}
          </TableRow>
        ))
      ) : table.getRowModel().rows?.length ? (
        table.getRowModel().rows.map((row) => (
          <TableRow
            key={row.id}
            data-state={row.getIsSelected() && 'selected'}
            className='group/row'
          >
            {row.getVisibleCells().map((cell) => (
              <TableCell
                key={cell.id}
                className={cn(
                  'bg-background group-hover/row:bg-muted group-data-[state=selected]/row:bg-muted',
                  cell.column.columnDef.meta?.className
                )}
              >
                {flexRender(cell.column.columnDef.cell, cell.getContext())}
              </TableCell>
            ))}
          </TableRow>
        ))
      ) : (
        <TableRow>
          <TableCell colSpan={columns.length} className='h-24 text-center'>
            æš‚æ— æ•°æ®
          </TableCell>
        </TableRow>
      )}
    </TableBody>
  </Table>
</div>
```

> âš ï¸ **åŠ è½½çŠ¶æ€è§„èŒƒ**ï¼šç¦æ­¢ä½¿ç”¨ç®€å•çš„æ–‡å­—"åŠ è½½ä¸­..."ï¼Œå¿…é¡»ä½¿ç”¨ Skeleton éª¨æ¶å±ä»¥é˜²æ­¢å¸ƒå±€æŠ–åŠ¨ã€‚

---

## åˆ—å®šä¹‰

### åŸºæœ¬ç»“æ„

```tsx
import { type ColumnDef } from '@tanstack/react-table'
import { DataTableColumnHeader } from '@/components/data-table'

interface ColumnsProps {
  onEdit: (item: ItemType) => void
  onDelete: (id: string) => void
}

export function getColumns({ onEdit, onDelete }: ColumnsProps): ColumnDef<ItemType>[] {
  return [
    // åˆ—å®šä¹‰...
  ]
}
```

### å¸¸ç”¨åˆ—ç±»å‹

**æ–‡æœ¬åˆ—ï¼ˆå¯æ’åºï¼‰ï¼š**
```tsx
{
  accessorKey: 'name',
  header: ({ column }) => (
    <DataTableColumnHeader column={column} title='åç§°' />
  ),
  cell: ({ row }) => (
    <div className='font-medium'>{row.getValue('name')}</div>
  ),
  enableHiding: false,  // ç¦æ­¢éšè—ä¸»è¦åˆ—
}
```

**é•¿æ–‡æœ¬åˆ—ï¼ˆå¿…é¡»æˆªæ–­ï¼‰ï¼š**
```tsx
{
  accessorKey: 'description',
  header: ({ column }) => (
    <DataTableColumnHeader column={column} title='æè¿°' />
  ),
  cell: ({ row }) => (
    <div 
      className='max-w-[300px] truncate' 
      title={row.getValue('description')}
    >
      {row.getValue('description')}
    </div>
  ),
}
```

> âš ï¸ **é•¿æ–‡æœ¬é˜²æŠ¤**ï¼šæ‰€æœ‰éå›ºå®šå®½åº¦çš„æ–‡æœ¬åˆ—ï¼ˆå¦‚æè¿°ã€å¤‡æ³¨ã€é•¿åç§°ï¼‰å¿…é¡»æ·»åŠ  `truncate` + `max-w-[Npx]` é™åˆ¶ï¼Œå¹¶æ·»åŠ  `title` å±æ€§ä»¥ä¾¿æ‚¬åœæŸ¥çœ‹å®Œæ•´å†…å®¹ã€‚

**é‡‘é¢/æ•°å­—åˆ—ï¼ˆå³å¯¹é½ï¼‰ï¼š**
```tsx
{
  accessorKey: 'amount',
  header: ({ column }) => (
    <DataTableColumnHeader column={column} title='é‡‘é¢' className='text-right' />
  ),
  cell: ({ row }) => (
    <div className='text-right font-mono'>
      Â¥{Number(row.getValue('amount')).toLocaleString()}
    </div>
  ),
  meta: { className: 'text-right' },
}
```

> âš ï¸ **æ•°å­—æ ¼å¼åŒ–è§„èŒƒ**ï¼š
> - é‡‘é¢/æ•°å­—åˆ—å¿…é¡»**å³å¯¹é½**ï¼Œä¸”ä½¿ç”¨ç­‰å®½å­—ä½“ (`font-mono`)
> - æ—¥æœŸæ—¶é—´ç¦æ­¢ç›´æ¥æ˜¾ç¤º ISO å­—ç¬¦ä¸²ï¼Œå¿…é¡»ç»è¿‡æ ¼å¼åŒ–ï¼ˆå¦‚ `YYYY-MM-DD HH:mm`ï¼‰

**æ—¥æœŸæ—¶é—´åˆ—ï¼š**
```tsx
{
  accessorKey: 'createdAt',
  header: ({ column }) => (
    <DataTableColumnHeader column={column} title='åˆ›å»ºæ—¶é—´' />
  ),
  cell: ({ row }) => {
    const date = new Date(row.getValue('createdAt'))
    return (
      <div className='text-muted-foreground'>
        {date.toLocaleDateString('zh-CN')} {date.toLocaleTimeString('zh-CN', { hour: '2-digit', minute: '2-digit' })}
      </div>
    )
  },
}
```

**Badge åˆ—ï¼š**
```tsx
{
  accessorKey: 'type',
  header: ({ column }) => (
    <DataTableColumnHeader column={column} title='ç±»å‹' />
  ),
  cell: ({ row }) => (
    <Badge variant='outline'>
      {typeMap[row.getValue('type') as string]}
    </Badge>
  ),
  filterFn: (row, id, value) => value.includes(row.getValue(id)),
}
```

**è®¡ç®—åˆ—ï¼ˆæ—  accessorKeyï¼‰ï¼š**
```tsx
{
  id: 'fullName',
  header: ({ column }) => (
    <DataTableColumnHeader column={column} title='å§“å' />
  ),
  cell: ({ row }) => {
    const { firstName, lastName } = row.original
    return <span>{`${firstName} ${lastName}`}</span>
  },
  enableSorting: false,
}
```

---

## çŠ¶æ€æ ‡ç­¾æ ·å¼

### é¢œè‰²æ˜ å°„å®šä¹‰

```tsx
// é€šç”¨çŠ¶æ€é¢œè‰²
const statusColors = new Map<string, string>([
  ['active', 'bg-teal-100/30 text-teal-900 dark:text-teal-200 border-teal-200'],
  ['inactive', 'bg-neutral-300/40 border-neutral-300'],
  ['pending', 'bg-sky-200/40 text-sky-900 dark:text-sky-100 border-sky-300'],
  ['suspended', 'bg-destructive/10 dark:bg-destructive/50 text-destructive dark:text-primary border-destructive/10'],
])
```

### çŠ¶æ€é¢œè‰²è¯­ä¹‰

| è¯­ä¹‰ | é¢œè‰² | é€‚ç”¨çŠ¶æ€ |
|------|------|---------|
| æˆåŠŸ/å¯ç”¨/è¿›è¡Œä¸­ | `teal` (é’ç»¿) | active, enabled, running, rewarded |
| ç¦ç”¨/ç»“æŸ/é»˜è®¤ | `neutral` (ç°è‰²) | inactive, disabled, ended, closed |
| ç­‰å¾…/å¾…å¤„ç† | `sky` (å¤©è“) | pending, waiting, invited |
| è­¦å‘Š/æš‚åœ | `amber` (ç¥ç€) | warning, paused, registered |
| é”™è¯¯/å–æ¶ˆ/æ— æ•ˆ | `destructive` (çº¢è‰²) | error, cancelled, invalid, suspended |

### ä½¿ç”¨æ–¹å¼

```tsx
{
  accessorKey: 'status',
  header: ({ column }) => (
    <DataTableColumnHeader column={column} title='çŠ¶æ€' />
  ),
  cell: ({ row }) => {
    const status = row.getValue('status') as string
    const badgeColor = statusColors.get(status)
    return (
      <Badge variant='outline' className={cn(badgeColor)}>
        {statusLabels[status] || status}
      </Badge>
    )
  },
  filterFn: (row, id, value) => value.includes(row.getValue(id)),
  enableHiding: false,
  enableSorting: false,
}
```

---

## æ“ä½œåˆ—èœå•

æ‰€æœ‰åˆ—è¡¨é¡µå¿…é¡»åŒ…å«"æ“ä½œ"åˆ—ï¼Œä¸”å¿…é¡»åŒ…å« **æŸ¥çœ‹**ã€**ç¼–è¾‘**ã€**åˆ é™¤** ä¸‰ä¸ªåŸºç¡€æ“ä½œã€‚

### æ’åºä¸åˆ†ç»„è§„èŒƒ

1. **æŸ¥çœ‹ (View)**ï¼šç¬¬ä¸€ä½ï¼Œç”¨äºæ‰“å¼€è¯¦æƒ…æŠ½å±‰ï¼ˆSheetï¼‰
2. **ç¼–è¾‘ (Edit)**ï¼šç¬¬äºŒä½ï¼Œç”¨äºæ‰“å¼€ç¼–è¾‘å¼¹çª—ï¼ˆDialogï¼‰
3. **ä¸šåŠ¡æ“ä½œ**ï¼šç¬¬ä¸‰ä½èµ·ï¼Œè§†å…·ä½“ä¸šåŠ¡è€Œå®šï¼ˆå¦‚ï¼šä¸Šæ¶/ä¸‹æ¶ã€å¤åˆ¶ã€å®¡æ ¸ç­‰ï¼‰
4. **åˆ†å‰²çº¿**ï¼šåœ¨å±é™©æ“ä½œå‰å¿…é¡»æ·»åŠ åˆ†å‰²çº¿
5. **åˆ é™¤ (Delete)**ï¼šæœ€åä¸€ä½ï¼Œä½¿ç”¨çº¢è‰²è­¦ç¤ºæ ·å¼ï¼Œæ‰“å¼€ç¡®è®¤å¼¹çª—

### äº¤äº’è§„èŒƒ

- **é˜»æ­¢å†’æ³¡**ï¼šå¿…é¡»åœ¨ `DropdownMenuTrigger` ä¸Šé˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Œé˜²æ­¢è§¦å‘è¡¨æ ¼è¡Œçš„ç‚¹å‡»äº‹ä»¶
- **å›¾æ ‡è¾…åŠ©**ï¼šæ‰€æœ‰èœå•é¡¹å³ä¾§å¿…é¡»åŒ…å«å›¾æ ‡ï¼ˆShortcutï¼‰
- **å¼¹çª—å±‚çº§**ï¼šä½¿ç”¨ `modal={false}` é¿å…å¼¹çª—å±‚çº§é—®é¢˜

### æ ‡å‡†ä»£ç å®ç°

```tsx
import { MoreHorizontal, Eye, Pencil, Trash2, Copy } from 'lucide-react'
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuTrigger,
} from '@/components/ui/dropdown-menu'

// ... åœ¨ columns å®šä¹‰ä¸­
{
  id: 'actions',
  cell: ({ row }) => {
    const item = row.original

    return (
      <DropdownMenu modal={false}>
        <DropdownMenuTrigger asChild onClick={(e) => e.stopPropagation()}>
          <Button variant='ghost' className='h-8 w-8 p-0 data-[state=open]:bg-muted'>
            <span className='sr-only'>æ‰“å¼€èœå•</span>
            <MoreHorizontal className='h-4 w-4' />
          </Button>
        </DropdownMenuTrigger>
        
        <DropdownMenuContent align='end' className='w-[160px]'>
          {/* 1. æŸ¥çœ‹ - å¯¹åº” Sheet */}
          <DropdownMenuItem onClick={() => onView(item)}>
            æŸ¥çœ‹è¯¦æƒ…
            <DropdownMenuShortcut><Eye size={14} /></DropdownMenuShortcut>
          </DropdownMenuItem>

          {/* 2. ç¼–è¾‘ - å¯¹åº” Dialog */}
          <DropdownMenuItem onClick={() => onEdit(item)}>
            ç¼–è¾‘
            <DropdownMenuShortcut><Pencil size={14} /></DropdownMenuShortcut>
          </DropdownMenuItem>

          {/* 3. ä¸šåŠ¡æ“ä½œï¼ˆç¤ºä¾‹ï¼‰ */}
          <DropdownMenuItem onClick={() => handleCopy(item)}>
            å¤åˆ¶ID
            <DropdownMenuShortcut><Copy size={14} /></DropdownMenuShortcut>
          </DropdownMenuItem>

          <DropdownMenuSeparator />

          {/* 4. åˆ é™¤ - å±é™©æ“ä½œ */}
          <DropdownMenuItem
            onClick={() => onDelete(item.id)}
            className='text-destructive focus:text-destructive focus:bg-destructive/10'
          >
            åˆ é™¤
            <DropdownMenuShortcut><Trash2 size={14} /></DropdownMenuShortcut>
          </DropdownMenuItem>
        </DropdownMenuContent>
      </DropdownMenu>
    )
  },
}
```

### åˆ—å®šä¹‰æ¥å£è§„èŒƒ

```tsx
interface ColumnsProps {
  onView: (item: ItemType) => void    // æŸ¥çœ‹è¯¦æƒ… â†’ Sheet
  onEdit: (item: ItemType) => void    // ç¼–è¾‘ â†’ Dialog
  onDelete: (item: ItemType) => void  // åˆ é™¤ â†’ ConfirmDialog
}
```

---

## ç¿»é¡µç»„ä»¶

### ä½¿ç”¨ DataTablePagination

```tsx
import { DataTablePagination } from '@/components/data-table'

// åœ¨è¡¨æ ¼ç»„ä»¶åº•éƒ¨
<DataTablePagination table={table} className='mt-auto' />
```

### åŠŸèƒ½ç‰¹æ€§

- æ˜¾ç¤ºå½“å‰é€‰ä¸­è¡Œæ•°
- æ˜¾ç¤ºæ€»è¡Œæ•°
- æ¯é¡µæ¡æ•°é€‰æ‹©ï¼ˆ10/20/30/40/50ï¼‰
- é¦–é¡µ/ä¸Šä¸€é¡µ/ä¸‹ä¸€é¡µ/æœ«é¡µæŒ‰é’®
- å½“å‰é¡µç /æ€»é¡µæ•°æ˜¾ç¤º

---

## å·¥å…·æ é…ç½®

### ä½¿ç”¨ DataTableToolbar

```tsx
import { DataTableToolbar } from '@/components/data-table'

<DataTableToolbar
  table={table}
  searchPlaceholder='æœç´¢...'
  searchKey='name'  // æŒ‡å®šæœç´¢å­—æ®µï¼Œä¸æŒ‡å®šåˆ™å…¨å±€æœç´¢
  filters={[
    {
      columnId: 'status',
      title: 'çŠ¶æ€',
      options: [
        { label: 'å¯ç”¨', value: 'active' },
        { label: 'ç¦ç”¨', value: 'inactive' },
      ],
    },
    {
      columnId: 'type',
      title: 'ç±»å‹',
      options: [
        { label: 'ç±»å‹A', value: 'a' },
        { label: 'ç±»å‹B', value: 'b' },
      ],
    },
  ]}
/>
```

### å·¥å…·æ åŠŸèƒ½

- æœç´¢æ¡†ï¼ˆæ”¯æŒæŒ‡å®šå­—æ®µæˆ–å…¨å±€æœç´¢ï¼‰
- å¤šé€‰ç­›é€‰å™¨ï¼ˆFacetedFilterï¼‰
- åˆ—æ˜¾éšæ§åˆ¶ï¼ˆViewOptionsï¼‰
- é‡ç½®æŒ‰é’®ï¼ˆè‡ªåŠ¨å‡ºç°ï¼‰

---

## å¼¹çª—ç»„ä»¶

åˆ—è¡¨é¡µæ¶‰åŠçš„æ–°å»ºã€ç¼–è¾‘ã€åˆ é™¤ã€æŸ¥çœ‹è¯¦æƒ…å¼¹çª—ï¼Œå¿…é¡»ä¸¥æ ¼éµå¾ª **[ã€Šå¼¹çª—å¼€å‘è§„èŒƒã€‹](./å¼¹çª—å¼€å‘è§„èŒƒ/README.md)**ã€‚

### æ ¸å¿ƒåŸåˆ™

1. **ç‹¬ç«‹æ–‡ä»¶**ï¼šè¯·å‹¿åœ¨åˆ—è¡¨é¡µæ–‡ä»¶ä¸­å†…è”ç¼–å†™å¼¹çª—ä»£ç ï¼Œåº”æŒ‰è§„èŒƒæ‹†åˆ†ä¸ºç‹¬ç«‹æ–‡ä»¶
2. **æ–‡ä»¶å‘½å**ï¼š`{module}-action-dialog.tsx`ã€`{module}-detail-sheet.tsx` ç­‰
3. **ç»„ä»¶å¯¹åº”**ï¼š
   - æŸ¥çœ‹è¯¦æƒ… â†’ `Sheet`ï¼ˆæŠ½å±‰ï¼‰
   - æ–°å»º/ç¼–è¾‘ â†’ `Dialog`ï¼ˆå¼¹çª—ï¼‰
   - åˆ é™¤ç¡®è®¤ â†’ `ConfirmDialog`

### æ–‡ä»¶ç»“æ„ç¤ºä¾‹

```
src/features/{module}/
â”œâ”€â”€ index.tsx
â””â”€â”€ components/
    â”œâ”€â”€ {module}-columns.tsx
    â”œâ”€â”€ {module}-table.tsx
    â”œâ”€â”€ {module}-action-dialog.tsx    # æ–°å»º/ç¼–è¾‘å¼¹çª—
    â”œâ”€â”€ {module}-detail-sheet.tsx     # æŸ¥çœ‹è¯¦æƒ…æŠ½å±‰
    â””â”€â”€ {module}-delete-dialog.tsx    # åˆ é™¤ç¡®è®¤å¼¹çª—ï¼ˆå¯é€‰ï¼Œå¯å¤ç”¨ ConfirmDialogï¼‰
```

### ä¸»é¡µé¢è°ƒç”¨ç¤ºä¾‹

```tsx
// index.tsx
import { ModuleActionDialog } from './components/module-action-dialog'
import { ModuleDetailSheet } from './components/module-detail-sheet'
import { ConfirmDialog } from '@/components/confirm-dialog'

export default function ModulePage() {
  const [actionOpen, setActionOpen] = useState(false)
  const [detailOpen, setDetailOpen] = useState(false)
  const [deleteOpen, setDeleteOpen] = useState(false)
  const [currentRow, setCurrentRow] = useState<ItemType | null>(null)

  return (
    <>
      {/* è¡¨æ ¼ */}
      <ModuleTable
        onView={(row) => { setCurrentRow(row); setDetailOpen(true) }}
        onEdit={(row) => { setCurrentRow(row); setActionOpen(true) }}
        onDelete={(row) => { setCurrentRow(row); setDeleteOpen(true) }}
      />

      {/* å¼¹çª—åŒºåŸŸ */}
      <ModuleActionDialog
        open={actionOpen}
        onOpenChange={setActionOpen}
        currentRow={currentRow}
      />
      <ModuleDetailSheet
        open={detailOpen}
        onOpenChange={setDetailOpen}
        currentRow={currentRow}
      />
      <ConfirmDialog
        open={deleteOpen}
        onOpenChange={setDeleteOpen}
        handleConfirm={() => handleDelete(currentRow?.id)}
        title='ç¡®è®¤åˆ é™¤'
        desc={`ç¡®å®šè¦åˆ é™¤ã€Œ${currentRow?.name}ã€å—ï¼Ÿæ­¤æ“ä½œæ— æ³•æ¢å¤ã€‚`}
        destructive
      />
    </>
  )
}
```

> ğŸ“š **è¯¦ç»†è§„èŒƒ**ï¼šå¼¹çª—çš„è¡¨å•å¸ƒå±€ã€éªŒè¯è§„åˆ™ã€äº¤äº’è§„èŒƒç­‰ï¼Œè¯·æŸ¥é˜… [ã€Šå¼¹çª—å¼€å‘è§„èŒƒã€‹](./å¼¹çª—å¼€å‘è§„èŒƒ/README.md)

---

## å®Œæ•´ç¤ºä¾‹

å‚è€ƒä»¥ä¸‹æ–‡ä»¶ä½œä¸ºå®Œæ•´å®ç°ç¤ºä¾‹ï¼š

- **å‘˜å·¥åˆ—è¡¨**ï¼ˆæ ‡å‡†å‚ç…§ï¼‰
  - `src/features/hr/index.tsx`
  - `src/features/hr/components/employees-table.tsx`
  - `src/features/hr/components/employees-columns.tsx`

- **æ´»åŠ¨ç®¡ç†**ï¼ˆè¥é”€ä¸­å¿ƒç¤ºä¾‹ï¼‰
  - `src/features/marketing/campaigns/index.tsx`
  - `src/features/marketing/campaigns/components/campaigns-table.tsx`
  - `src/features/marketing/campaigns/components/campaigns-columns.tsx`

---

## æ£€æŸ¥æ¸…å•

å¼€å‘æ–°åˆ—è¡¨é¡µæ—¶ï¼Œè¯·ç¡®è®¤ä»¥ä¸‹è¦ç‚¹ï¼š

### åŸºç¡€æ¶æ„

- [ ] æ–‡ä»¶ç»“æ„ç¬¦åˆè§„èŒƒï¼ˆindex.tsx + components/{table, columns, dialogs}ï¼‰
- [ ] å¸ƒå±€ä½¿ç”¨ `Header` + `Main`ï¼Œ**ä¸ä½¿ç”¨** Card åŒ…è£¹è¡¨æ ¼
- [ ] å¼¹çª—ç»„ä»¶å·²æ‹†åˆ†ä¸ºç‹¬ç«‹æ–‡ä»¶ï¼Œä¸”éµå¾ªã€Šå¼¹çª—å¼€å‘è§„èŒƒã€‹

### è¡¨æ ¼äº¤äº’

- [ ] åŠ è½½çŠ¶æ€ä½¿ç”¨äº† **Skeleton éª¨æ¶å±**
- [ ] æœåŠ¡ç«¯åˆ†é¡µé…ç½®æ­£ç¡® (`manualPagination: true`)
- [ ] æš‚æ— æ•°æ®æ—¶æ˜¾ç¤ºäº†å‹å¥½çš„ Empty State
- [ ] ç¿»é¡µä½¿ç”¨ `DataTablePagination`
- [ ] å·¥å…·æ ä½¿ç”¨ `DataTableToolbar`

### åˆ—ä¸å†…å®¹

- [ ] **æ“ä½œåˆ—**åŒ…å«ï¼šæŸ¥çœ‹(Sheet)ã€ç¼–è¾‘(Dialog)ã€åˆ é™¤(Confirm)
- [ ] **æ“ä½œåˆ—**å·²å¤„ç† `e.stopPropagation()` é˜»æ­¢å†’æ³¡
- [ ] **åˆ é™¤æ“ä½œ**æœ‰çº¢è‰²è­¦ç¤ºæ ·å¼åŠåˆ†å‰²çº¿
- [ ] **é•¿æ–‡æœ¬åˆ—**æ·»åŠ äº† `truncate` å’Œ `max-w` é™åˆ¶
- [ ] **é‡‘é¢/æ•°å­—åˆ—**è®¾ç½®ä¸ºå³å¯¹é½ + ç­‰å®½å­—ä½“
- [ ] **æ—¥æœŸæ—¶é—´åˆ—**ç»è¿‡æ ¼å¼åŒ–ï¼ˆé ISO å­—ç¬¦ä¸²ï¼‰
- [ ] **çŠ¶æ€åˆ—**ä½¿ç”¨äº†æ ‡å‡†é¢œè‰²æ˜ å°„ (`Badge variant='outline'`)
