# æ¨¡å—é¡µé¢æ¥å…¥æ¸…å•ä¸æ’æœŸ

> **æ–‡æ¡£ç‰ˆæœ¬**: v1.7  
> **åˆ›å»ºæ—¥æœŸ**: 2024-12-12  
> **æœ€åæ›´æ–°**: 2024-12-12ï¼ˆå¯¹é½å®é™…å®ŒæˆçŠ¶æ€ï¼‰  
> **çŠ¶æ€**: ğŸš€ å®æ–½ä¸­ï¼ˆåŸºç¡€è®¾æ–½ + é™ªè¯Šå‘˜ç³»ç»Ÿå·²å®Œæˆï¼‰  
> **è¿”å›**: [æ€»è§ˆ](./README.md)

---

## ä¸€ã€è¥é”€ä¸­å¿ƒé¡µé¢æ¥å…¥

### 1.1 ç»ˆç«¯é¡µé¢æ¸…å•

| é¡µé¢è·¯å¾„ | è·¯ç”± Key | åŠŸèƒ½è¯´æ˜ | ä¼˜å…ˆçº§ | çŠ¶æ€ |
|---------|---------|---------|--------|------|
| `/pages/marketing/membership/index` | `membership` | ä¼šå‘˜ä¸­å¿ƒé¦–é¡µ | **P0** | âœ… è·¯ç”±å·²æ¥å…¥ |
| `/pages/marketing/membership/plans` | `membership-plans` | ä¼šå‘˜å¥—é¤åˆ—è¡¨ | **P0** | âœ… è·¯ç”±å·²æ¥å…¥ |
| `/pages/marketing/coupons/index` | `coupons` | æˆ‘çš„ä¼˜æƒ åˆ¸åˆ—è¡¨ | **P0** | âœ… è·¯ç”±å·²æ¥å…¥ |
| `/pages/marketing/coupons/available` | `coupons-available` | å¯é¢†å–ä¼˜æƒ åˆ¸ | P1 | âœ… è·¯ç”±å·²æ¥å…¥ |
| `/pages/marketing/points/index` | `points` | ç§¯åˆ†é¦–é¡µ | P1 | âœ… è·¯ç”±å·²æ¥å…¥ |
| `/pages/marketing/points/records` | `points-records` | ç§¯åˆ†æ˜ç»† | P1 | âœ… è·¯ç”±å·²æ¥å…¥ |
| `/pages/marketing/referrals/index` | `referrals` | é‚€è¯·å¥½å‹ | P1 | âœ… è·¯ç”±å·²æ¥å…¥ |
| `/pages/marketing/campaigns/index` | `campaigns` | æ´»åŠ¨åˆ—è¡¨ | P1 | âœ… è·¯ç”±å·²æ¥å…¥ |
| `/pages/marketing/campaigns/detail` | `campaigns-detail` | æ´»åŠ¨è¯¦æƒ… | P1 | âœ… è·¯ç”±å·²æ¥å…¥ |

### 1.2 é¢„è§ˆå™¨é¡µé¢ç»„ä»¶æ¸…å•

| ç»„ä»¶æ–‡ä»¶ | è·¯å¾„ | ä¼˜å…ˆçº§ | çŠ¶æ€ | è¯´æ˜ |
|---------|------|--------|------|------|
| `MembershipPage.tsx` | `components/pages/marketing/` | P0 | âœ… å·²å®Œæˆ | é¡µé¢éª¨æ¶ + Mock æ•°æ® |
| `MembershipPlansPage.tsx` | `components/pages/marketing/` | P0 | âœ… å·²å®Œæˆ | é¡µé¢éª¨æ¶ + Mock æ•°æ® |
| `CouponsPage.tsx` | `components/pages/marketing/` | P0 | âœ… å·²å®Œæˆ | é¡µé¢éª¨æ¶ + Mock æ•°æ® |
| `CouponsAvailablePage.tsx` | `components/pages/marketing/` | P1 | âœ… å·²å®Œæˆ | é¡µé¢éª¨æ¶ + Mock æ•°æ® |
| `PointsPage.tsx` | `components/pages/marketing/` | P1 | âœ… å·²å®Œæˆ | é¡µé¢éª¨æ¶ + Mock æ•°æ® |
| `PointsRecordsPage.tsx` | `components/pages/marketing/` | P1 | âœ… å·²å®Œæˆ | é¡µé¢éª¨æ¶ + Mock æ•°æ® |
| `ReferralsPage.tsx` | `components/pages/marketing/` | P1 | âœ… å·²å®Œæˆ | é¡µé¢éª¨æ¶ + Mock æ•°æ® |
| `CampaignsPage.tsx` | `components/pages/marketing/` | P1 | âœ… å·²å®Œæˆ | é¡µé¢éª¨æ¶ + Mock æ•°æ® |
| `CampaignDetailPage.tsx` | `components/pages/marketing/` | P1 | âœ… å·²å®Œæˆ | é¡µé¢éª¨æ¶ + Mock æ•°æ® |

### 1.3 API æ¥å…¥æ¸…å•

| API æ–¹æ³• | è·¯å¾„ | è¯·æ±‚é€šé“ | ä¼˜å…ˆçº§ | çŠ¶æ€ |
|---------|------|---------|--------|------|
| `getMembershipLevels()` | `/marketing/membership/levels` | userRequest | P0 | âŒ å¾…æ¥å…¥ |
| `getMyMembership()` | `/marketing/membership/my` | userRequest | P0 | âŒ å¾…æ¥å…¥ |
| `getMembershipPlans()` | `/marketing/membership/plans` | userRequest | P0 | âŒ å¾…æ¥å…¥ |
| `getMyCoupons()` | `/marketing/coupons/my` | userRequest | P0 | âŒ å¾…æ¥å…¥ |
| `getAvailableCoupons()` | `/marketing/coupons/available` | userRequest | P1 | âŒ å¾…æ¥å…¥ |
| `getMyPoints()` | `/marketing/points/my` | userRequest | P1 | âŒ å¾…æ¥å…¥ |
| `getPointsRecords()` | `/marketing/points/records` | userRequest | P1 | âŒ å¾…æ¥å…¥ |
| `getReferralInfo()` | `/marketing/referrals/info` | userRequest | P1 | âŒ å¾…æ¥å…¥ |
| `getCampaigns()` | `/marketing/campaigns` | userRequest | P1 | âŒ å¾…æ¥å…¥ |
| `getCampaignDetail()` | `/marketing/campaigns/:id` | userRequest | P1 | âŒ å¾…æ¥å…¥ |

### 1.4 ç®¡ç†åå°é›†æˆç‚¹

| ç®¡ç†é¡µé¢ | è·¯ç”± | é¢„è§ˆé¡µé¢ | ä¼˜å…ˆçº§ | çŠ¶æ€ |
|---------|------|---------|--------|------|
| ä¼šå‘˜ç®¡ç† | `/marketing/membership` | `membership`, `membership-plans` | P0 | âŒ å¾…é›†æˆ |
| ä¼˜æƒ åˆ¸ç®¡ç† | `/marketing/coupons` | `coupons`, `coupons-available` | P0 | âŒ å¾…é›†æˆ |
| ç§¯åˆ†ç®¡ç† | `/marketing/points` | `points`, `points-records` | P1 | âŒ å¾…é›†æˆ |
| é‚€è¯·å¥–åŠ± | `/marketing/referrals` | `referrals` | P1 | âŒ å¾…é›†æˆ |
| æ´»åŠ¨ç®¡ç† | `/marketing/campaigns` | `campaigns`, `campaigns-detail` | P1 | âŒ å¾…é›†æˆ |

### 1.5 ç»ˆç«¯æºç å‚è€ƒ

| é¡µé¢ | ç»ˆç«¯æºç ä½ç½® |
|------|-------------|
| ä¼šå‘˜ä¸­å¿ƒ | `miniapp/src/pages/marketing/membership/index.tsx` |
| ä¼šå‘˜å¥—é¤ | `miniapp/src/pages/marketing/membership/plans.tsx` |
| ä¼˜æƒ åˆ¸ | `miniapp/src/pages/marketing/coupons/index.tsx` |
| å¯é¢†ä¼˜æƒ åˆ¸ | `miniapp/src/pages/marketing/coupons/available.tsx` |
| ç§¯åˆ† | `miniapp/src/pages/marketing/points/index.tsx` |
| ç§¯åˆ†æ˜ç»† | `miniapp/src/pages/marketing/points/records.tsx` |
| é‚€è¯· | `miniapp/src/pages/marketing/referrals/index.tsx` |
| æ´»åŠ¨åˆ—è¡¨ | `miniapp/src/pages/marketing/campaigns/index.tsx` |
| æ´»åŠ¨è¯¦æƒ… | `miniapp/src/pages/marketing/campaigns/detail.tsx` |

---

## äºŒã€é™ªè¯Šå‘˜ç³»ç»Ÿé¡µé¢æ¥å…¥

### 2.1 ç»ˆç«¯é¡µé¢æ¸…å•

| é¡µé¢è·¯å¾„ | è·¯ç”± Key | åŠŸèƒ½è¯´æ˜ | ä¼˜å…ˆçº§ | çŠ¶æ€ |
|---------|---------|---------|--------|------|
| `/pages/escort/list` | `escort-list` | é™ªè¯Šå‘˜åˆ—è¡¨ | **P1** | âœ… å·²å®Œæˆ |
| `/pages/escort/detail` | `escort-detail` | é™ªè¯Šå‘˜è¯¦æƒ… | **P1** | âœ… å·²å®Œæˆ |
| `/pages/workbench/index` | `workbench` | å·¥ä½œå°é¦–é¡µ | P2 | âœ… å·²å®Œæˆ |
| `/pages/workbench/orders/pool` | `workbench-orders-pool` | è®¢å•æ±  | P2 | âœ… å·²å®Œæˆ |
| `/pages/workbench/orders/detail` | `workbench-order-detail` | è®¢å•è¯¦æƒ… | P2 | âœ… å·²å®Œæˆ |
| `/pages/workbench/earnings/index` | `workbench-earnings` | æ”¶å…¥ç»Ÿè®¡ | P2 | âœ… å·²å®Œæˆ |
| `/pages/workbench/withdraw/index` | `workbench-withdraw` | æç°é¡µé¢ | P2 | âœ… å·²å®Œæˆ |
| `/pages/workbench/settings/index` | `workbench-settings` | å·¥ä½œå°è®¾ç½® | P2 | âŒ å¾…å¼€å‘ |

### 2.2 é¢„è§ˆå™¨é¡µé¢ç»„ä»¶æ¸…å•

| ç»„ä»¶æ–‡ä»¶ | è·¯å¾„ | ä¼˜å…ˆçº§ | çŠ¶æ€ | è¯´æ˜ |
|---------|------|--------|------|------|
| `EscortListPage.tsx` | `components/pages/escort/` | P1 | âœ… å·²å®Œæˆ | |
| `EscortDetailPage.tsx` | `components/pages/escort/` | P1 | âœ… å·²å®Œæˆ | |
| `WorkbenchPage.tsx` | `components/pages/workbench/` | P2 | âœ… å·²å®Œæˆ | |
| `OrdersPoolPage.tsx` | `components/pages/workbench/` | P2 | âœ… å·²å®Œæˆ | |
| `OrderDetailPage.tsx` | `components/pages/workbench/` | P2 | âœ… å·²å®Œæˆ | |
| `EarningsPage.tsx` | `components/pages/workbench/` | P2 | âœ… å·²å®Œæˆ | API ç‰ˆæœ¬ (getWorkbenchEarnings) |
| `WorkbenchEarningsPage.tsx` | `components/pages/workbench/` | P2 | âœ… å·²å®Œæˆ | API ç‰ˆæœ¬ (getEarningsStatsï¼Œå½“å‰ä½¿ç”¨) |
| `WithdrawPage.tsx` | `components/pages/workbench/` | P2 | âœ… å·²å®Œæˆ | API ç‰ˆæœ¬ (getWorkbenchWithdrawInfo) |
| `WorkbenchWithdrawPage.tsx` | `components/pages/workbench/` | P2 | âœ… å·²å®Œæˆ | API ç‰ˆæœ¬ (getWithdrawStatsï¼Œå½“å‰ä½¿ç”¨) |

### 2.3 API æ¥å…¥æ¸…å•

| API æ–¹æ³• | è·¯å¾„ | è¯·æ±‚é€šé“ | ä¼˜å…ˆçº§ | çŠ¶æ€ |
|---------|------|---------|--------|------|
| `getEscorts()` | `/escorts` | userRequest | P1 | âœ… å·²æ¥å…¥ |
| `getEscortDetail()` | `/escorts/:id` | userRequest | P1 | âœ… å·²æ¥å…¥ |
| `getWorkbenchStats()` | `/escort-app/workbench/stats` | **escortRequest** | P2 | âœ… å·²æ¥å…¥ |
| `getWorkbenchOrdersPool()` | `/escort-app/orders/pool` | **escortRequest** | P2 | âœ… å·²æ¥å…¥ |
| `getWorkbenchOrderDetail()` | `/escort-app/orders/:id` | **escortRequest** | P2 | âœ… å·²æ¥å…¥ |
| `getWorkbenchEarnings()` | `/escort-app/earnings` | **escortRequest** | P2 | âœ… å·²æ¥å…¥ |
| `getEarningsStats()` | `/escort-app/earnings/stats` | **escortRequest** | P2 | âœ… å·²æ¥å…¥ |
| `getWorkbenchWithdrawInfo()` | `/escort-app/withdraw/info` | **escortRequest** | P2 | âœ… å·²æ¥å…¥ |
| `getWithdrawStats()` | `/escort-app/withdraw/stats` | **escortRequest** | P2 | âœ… å·²æ¥å…¥ |

### 2.4 ç®¡ç†åå°é›†æˆç‚¹

| ç®¡ç†é¡µé¢ | è·¯ç”± | é¢„è§ˆé¡µé¢ | ä¼˜å…ˆçº§ | çŠ¶æ€ |
|---------|------|---------|--------|------|
| é™ªè¯Šå‘˜ç®¡ç† | `/escorts` | `escort-list`, `escort-detail` | P1 | âŒ å¾…é›†æˆ |
| å·¥ä½œå°ç®¡ç† | `/escort-app/workbench` | `workbench` | P2 | âŒ å¾…é›†æˆ |

### 2.5 ç»ˆç«¯æºç å‚è€ƒ

| é¡µé¢ | ç»ˆç«¯æºç ä½ç½® |
|------|-------------|
| é™ªè¯Šå‘˜åˆ—è¡¨ | `miniapp/src/pages/escort/list.tsx` |
| é™ªè¯Šå‘˜è¯¦æƒ… | `miniapp/src/pages/escort/detail.tsx` |
| å·¥ä½œå° | `miniapp/src/pages/workbench/index.tsx` |
| è®¢å•æ±  | `miniapp/src/pages/workbench/orders/pool.tsx` |
| è®¢å•è¯¦æƒ… | `miniapp/src/pages/workbench/orders/detail.tsx` |
| æ”¶å…¥ç»Ÿè®¡ | `miniapp/src/pages/workbench/earnings/index.tsx` |
| æç° | `miniapp/src/pages/workbench/withdraw/index.tsx` |

---

## ä¸‰ã€åˆ†é”€ç³»ç»Ÿåˆ†æ

### 3.1 ç»ˆç«¯é¡µé¢åˆ†æ

**ç»“è®ºï¼šåˆ†é”€ç³»ç»Ÿåœ¨ç»ˆç«¯ï¼ˆå°ç¨‹åºï¼‰ä¸­æ— ç‹¬ç«‹é¡µé¢ã€‚**

åˆ†é”€åŠŸèƒ½ä¸»è¦é€šè¿‡ä»¥ä¸‹æ–¹å¼ä½“ç°ï¼š
1. **é‚€è¯·å¥½å‹é¡µé¢**ï¼ˆ`/pages/marketing/referrals/index`ï¼‰- å·²å½’ç±»åˆ°è¥é”€ä¸­å¿ƒ
2. **ä¸ªäººä¸­å¿ƒå…¥å£** - åˆ†é”€å…³ç³»æŸ¥çœ‹ï¼ˆå¦‚å­˜åœ¨ï¼‰
3. **åå°ç®¡ç†** - åˆ†é”€é…ç½®ã€åˆ†æ¶¦è®°å½•æŸ¥çœ‹

### 3.2 å»ºè®®

- **ä¼˜å…ˆçº§ï¼šP2ï¼ˆä½ï¼‰**
- å…ˆå®Œæˆè¥é”€ä¸­å¿ƒå’Œé™ªè¯Šå‘˜ç³»ç»Ÿé›†æˆ
- æ ¹æ®å®é™…éœ€æ±‚å†³å®šæ˜¯å¦é›†æˆåˆ†é”€é¢„è§ˆ

---

## å››ã€å®æ–½æ’æœŸ

### 4.1 é˜¶æ®µä¸€ï¼šåŸºç¡€è®¾æ–½ + è¥é”€ä¸­å¿ƒï¼ˆP0ï¼Œç¬¬ 1-2 å‘¨ï¼‰

> âš ï¸ **æ’æœŸè°ƒæ•´**ï¼šåŒä¼šè¯éª¨æ¶ + è°ƒè¯•é¢æ¿å‰ç½®åˆ°é˜¶æ®µä¸€ï¼Œåç»­æ¥å…¥é¡µé¢æ—¶å¯ç›´æ¥æ’éšœã€‚

**ç¬¬ä¸€å‘¨ Part 1ï¼šåŸºç¡€è®¾æ–½ï¼ˆå¿…é¡»å…ˆå®Œæˆï¼‰**

| ä»»åŠ¡ | è´Ÿè´£äºº | é¢„ä¼°å·¥æ—¶ | çŠ¶æ€ | è¯´æ˜ |
|------|--------|---------|------|------|
| å®ç°åŒä¼šè¯éª¨æ¶ï¼ˆUserSession + EscortSessionï¼‰ | - | 4h | âœ… | token å­˜å‚¨/è¯»å–/æ¸…é™¤ |
| å®ç°è¯·æ±‚é€šé“é€‰æ‹©å™¨ï¼ˆuserRequest / escortRequestï¼‰ | - | 4h | âœ… | å«é€šé“é€‰æ‹©è§„åˆ™ |
| å®ç°é¢„è§ˆå™¨è°ƒè¯•é¢æ¿ | - | 3h | âœ… | viewerRole + token çŠ¶æ€ + é€šé“æŒ‡ç¤º |
| å®ç° escortToken éªŒè¯æœºåˆ¶ | - | 2h | âœ… | validate æ¥å£è°ƒç”¨ |
| å®ç° UserSession å¤±æ•ˆè”åŠ¨æ¸…é™¤ | - | 1h | âœ… | user 401 æ—¶æ¸…åŒ token |

**ç¬¬ä¸€å‘¨ Part 2ï¼šè¥é”€ä¸­å¿ƒæ ¸å¿ƒé¡µé¢**

| ä»»åŠ¡ | è´Ÿè´£äºº | é¢„ä¼°å·¥æ—¶ | çŠ¶æ€ |
|------|--------|---------|------|
| æ‰©å±• `TerminalPreviewProps.page` ç±»å‹ | - | 2h | âœ… |
| åˆ›å»º `MembershipPage.tsx` | - | 4h | âœ… |
| åˆ›å»º `MembershipPlansPage.tsx` | - | 3h | âœ… |
| åˆ›å»º `CouponsPage.tsx` | - | 4h | âœ… |
| åœ¨ `previewApi` ä¸­æ·»åŠ ä¼šå‘˜/ä¼˜æƒ åˆ¸ API | - | 2h | âš ï¸ é¡µé¢éª¨æ¶å®Œæˆï¼ŒAPI å¾…æ¥å…¥ |
| æ›´æ–°è·¯ç”±åˆ†å‘é€»è¾‘ | - | 1h | âœ… |

**ç¬¬äºŒå‘¨ï¼šè¥é”€ä¸­å¿ƒå®Œæ•´é¡µé¢ + ç®¡ç†åå°é›†æˆ**

| ä»»åŠ¡ | è´Ÿè´£äºº | é¢„ä¼°å·¥æ—¶ | çŠ¶æ€ |
|------|--------|---------|------|
| åˆ›å»º `CouponsAvailablePage.tsx` | - | 3h | âœ… |
| åˆ›å»º `PointsPage.tsx` | - | 3h | âœ… |
| åˆ›å»º `PointsRecordsPage.tsx` | - | 2h | âœ… |
| åˆ›å»º `ReferralsPage.tsx` | - | 4h | âœ… |
| åˆ›å»º `CampaignsPage.tsx` | - | 3h | âœ… |
| åˆ›å»º `CampaignDetailPage.tsx` | - | 3h | âœ… |
| åœ¨ `previewApi` ä¸­æ·»åŠ ç§¯åˆ†/é‚€è¯·/æ´»åŠ¨ API | - | 2h | âš ï¸ é¡µé¢éª¨æ¶å®Œæˆï¼ŒAPI å¾…æ¥å…¥ |
| åœ¨ä¼šå‘˜ç®¡ç†é¡µé¢é›†æˆé¢„è§ˆå™¨ | - | 3h | âŒ å¾…é›†æˆ |
| åœ¨ä¼˜æƒ åˆ¸ç®¡ç†é¡µé¢é›†æˆé¢„è§ˆå™¨ | - | 3h | âŒ å¾…é›†æˆ |
| é›†æˆåˆ°å…¶ä»–ç®¡ç†é¡µé¢ | - | 4h | âŒ å¾…é›†æˆ |
| æµ‹è¯•æ•°æ®è¦†ç›–æœºåˆ¶ | - | 2h | âŒ |

**äº¤ä»˜ç‰©ï¼š**
- âœ… åŒä¼šè¯éª¨æ¶ + è°ƒè¯•é¢æ¿å¯ç”¨
- âœ… è¥é”€ä¸­å¿ƒæ‰€æœ‰é¡µé¢ç»„ä»¶å·²åˆ›å»ºï¼ˆéª¨æ¶ + Mock æ•°æ®ï¼‰
- âš ï¸ è¥é”€ä¸­å¿ƒ API æ¥å…¥å¾…å®Œæˆ
- âŒ ç®¡ç†åå°ç›¸å…³é¡µé¢é›†æˆé¢„è§ˆå™¨ï¼ˆå¾…é›†æˆï¼‰
- âœ… æ’éšœèƒ½åŠ›ï¼šå¯åœ¨è°ƒè¯•é¢æ¿çœ‹åˆ° token çŠ¶æ€ä¸è¯·æ±‚é€šé“

### 4.2 é˜¶æ®µäºŒï¼šé™ªè¯Šå‘˜ç³»ç»Ÿé›†æˆï¼ˆP1ï¼Œç¬¬ 3-4 å‘¨ï¼‰

**ç›®æ ‡ï¼š** å®Œæˆé™ªè¯Šå‘˜ç›¸å…³é¡µé¢çš„é¢„è§ˆå™¨é›†æˆ

**ä»»åŠ¡æ¸…å•ï¼š**

| ä»»åŠ¡ | è´Ÿè´£äºº | é¢„ä¼°å·¥æ—¶ | çŠ¶æ€ |
|------|--------|---------|------|
| å®ç°èº«ä»½ä¸Šä¸‹æ–‡æœºåˆ¶ | - | 4h | âœ… |
| åˆ›å»º `EscortListPage.tsx` | - | 4h | âœ… |
| åˆ›å»º `EscortDetailPage.tsx` | - | 4h | âœ… |
| åœ¨ `previewApi` ä¸­æ·»åŠ é™ªè¯Šå‘˜å…¬å¼€ API | - | 2h | âœ… |
| å®ç°è§’è‰²åˆ‡æ¢åŠŸèƒ½ | - | 3h | âœ… |
| åœ¨é™ªè¯Šå‘˜ç®¡ç†é¡µé¢é›†æˆé¢„è§ˆå™¨ | - | 3h | âŒ å¾…é›†æˆ |
| æµ‹è¯•èº«ä»½åˆ‡æ¢å’Œæ•°æ®è¦†ç›– | - | 2h | âœ… |

**ç¬¬å››å‘¨è¿½åŠ ï¼ˆåŒä¼šè¯ + å·¥ä½œå°ï¼‰ï¼š**

> âš ï¸ **å®æ–½é¡ºåºè°ƒæ•´**ï¼šå·¥ä½œå°æ¥å£ä¾èµ– escortTokenï¼Œå¿…é¡»å…ˆå®Œæˆ token ä½“ç³»ï¼Œå†åšé¡µé¢ã€‚

**ç¬¬å››å‘¨ Part 1ï¼šToken ä½“ç³»ä¸å…¥å£ï¼ˆå¿…é¡»å…ˆå®Œæˆï¼‰**

| ä»»åŠ¡ | è´Ÿè´£äºº | é¢„ä¼°å·¥æ—¶ | çŠ¶æ€ | ä¾èµ– |
|------|--------|---------|------|------|
| å®ç°åŒä¼šè¯æœºåˆ¶ï¼ˆUserSession + EscortSessionï¼‰ | - | 6h | âœ… | æ—  |
| å®ç°è¯·æ±‚åˆ†æµï¼ˆuserRequest / escortRequestï¼‰ | - | 4h | âœ… | åŒä¼šè¯æœºåˆ¶ |
| å®ç°ç»ˆç«¯"æˆ‘çš„é¡µ"é™ªè¯Šå‘˜å…¥å£ | - | 4h | âœ… | åŒä¼šè¯æœºåˆ¶ |
| å®ç°äºŒæ¬¡ç™»å½•æµç¨‹ | - | 4h | âœ… | è¯·æ±‚åˆ†æµ |
| å®ç°é€€å‡ºé™ªè¯Šå‘˜åŠŸèƒ½ | - | 2h | âœ… | äºŒæ¬¡ç™»å½• |

**ç¬¬å››å‘¨ Part 2ï¼šå·¥ä½œå°é¡µé¢ï¼ˆåŸºäºå·²ç¨³å®šçš„ escortRequestï¼‰**

| ä»»åŠ¡ | è´Ÿè´£äºº | é¢„ä¼°å·¥æ—¶ | çŠ¶æ€ | ä¾èµ– |
|------|--------|---------|------|------|
| åœ¨ `previewApi` ä¸­æ·»åŠ å·¥ä½œå° APIï¼ˆescortRequestï¼‰ | - | 3h | âœ… | è¯·æ±‚åˆ†æµ |
| åˆ›å»º `WorkbenchPage.tsx` | - | 6h | âœ… | å·¥ä½œå° API |
| åˆ›å»º `WorkbenchOrdersPoolPage.tsx` | - | 4h | âœ… | å·¥ä½œå° API |
| åˆ›å»º `WorkbenchEarningsPage.tsx` | - | 4h | âœ… | `getEarningsStats()` API |
| åˆ›å»º `WorkbenchWithdrawPage.tsx` | - | 3h | âœ… | `getWithdrawStats()` API |

**äº¤ä»˜ç‰©ï¼š**
- âœ… é™ªè¯Šå‘˜åˆ—è¡¨/è¯¦æƒ…å¯åœ¨é¢„è§ˆå™¨ä¸­æŸ¥çœ‹
- âœ… å·¥ä½œå°é¡µé¢å¯åœ¨é¢„è§ˆå™¨ä¸­æŸ¥çœ‹ï¼ˆéœ€åˆ‡æ¢è§’è‰²ï¼‰
- âš ï¸ ç®¡ç†åå°é™ªè¯Šå‘˜é¡µé¢é›†æˆé¢„è§ˆå™¨ï¼ˆå¾…é›†æˆï¼‰
- âœ… é™ªè¯Šå‘˜å…¥å£å¯¹æ™®é€šç”¨æˆ·éšè—ï¼ˆæˆ–ä¸å¯ç”¨ï¼‰
- âœ… é™ªè¯Šå‘˜äºŒæ¬¡ç™»å½•æˆåŠŸåå¯åˆ‡æ¢è§†è§’è¿›å…¥å·¥ä½œå°
- âœ… é€€å‡ºé™ªè¯Šå‘˜åæ¢å¤æ™®é€šç”¨æˆ·è§†è§’ï¼Œä¸”ä¸å½±å“ç”¨æˆ·ç™»å½•æ€

### 4.3 é˜¶æ®µä¸‰ï¼šä¼˜åŒ–å’Œæ‰©å±•ï¼ˆP2ï¼Œç¬¬ 5 å‘¨ï¼‰

**ç›®æ ‡ï¼š** å®Œå–„åŠŸèƒ½ï¼Œå¤„ç†è¾¹ç¼˜æƒ…å†µ

**ä»»åŠ¡æ¸…å•ï¼š**

| ä»»åŠ¡ | è´Ÿè´£äºº | é¢„ä¼°å·¥æ—¶ | çŠ¶æ€ |
|------|--------|---------|------|
| ä¼˜åŒ–æ•°æ®è¦†ç›–æœºåˆ¶ | - | 4h | âŒ |
| å®Œå–„ Mock æ•°æ® | - | 4h | âŒ |
| å¤„ç†æƒé™å’Œè§’è‰²è¾¹ç•Œæƒ…å†µ | - | 4h | âŒ |
| æ€§èƒ½ä¼˜åŒ–ï¼ˆæ‡’åŠ è½½ã€ç¼“å­˜ï¼‰ | - | 4h | âŒ |
| æ–‡æ¡£æ›´æ–° | - | 4h | âŒ |
| å…¨é¢æµ‹è¯• | - | 8h | âŒ |

**äº¤ä»˜ç‰©ï¼š**
- âœ… å®Œæ•´çš„é›†æˆæ–‡æ¡£
- âœ… æ€§èƒ½ä¼˜åŒ–æŠ¥å‘Š

---

## äº”ã€ä¼˜å…ˆçº§çŸ©é˜µ

| æ¨¡å— | ä¸šåŠ¡ä»·å€¼ | æŠ€æœ¯å¤æ‚åº¦ | ç”¨æˆ·å½±å“ | ç»¼åˆä¼˜å…ˆçº§ |
|------|---------|-----------|---------|-----------|
| **è¥é”€ä¸­å¿ƒ - ä¼šå‘˜** | é«˜ | ä¸­ | é«˜ | **P0** |
| **è¥é”€ä¸­å¿ƒ - ä¼˜æƒ åˆ¸** | é«˜ | ä¸­ | é«˜ | **P0** |
| **è¥é”€ä¸­å¿ƒ - ç§¯åˆ†** | ä¸­ | ä¸­ | ä¸­ | P1 |
| **è¥é”€ä¸­å¿ƒ - é‚€è¯·** | ä¸­ | ä½ | ä¸­ | P1 |
| **è¥é”€ä¸­å¿ƒ - æ´»åŠ¨** | ä¸­ | ä¸­ | ä¸­ | P1 |
| **é™ªè¯Šå‘˜ - åˆ—è¡¨/è¯¦æƒ…** | é«˜ | ä½ | ä¸­ | **P1** |
| **é™ªè¯Šå‘˜ - å·¥ä½œå°** | ä¸­ | é«˜ | ä½ | P2 |
| **åˆ†é”€ç³»ç»Ÿ** | ä½ | ä¸­ | ä½ | P2 |

---

## å…­ã€é£é™©è¯„ä¼°

### 6.1 æŠ€æœ¯é£é™©

| é£é™© | å½±å“ | æ¦‚ç‡ | ç¼“è§£æªæ–½ |
|------|------|------|---------|
| API ä¸å…¼å®¹ | é«˜ | ä¸­ | æå‰ç¡®è®¤åç«¯ APIï¼Œæä¾› Mock é™çº§ |
| æ€§èƒ½é—®é¢˜ | ä¸­ | ä½ | ä½¿ç”¨ React Query ç¼“å­˜ï¼Œæ‡’åŠ è½½ç»„ä»¶ |
| ç±»å‹ç³»ç»Ÿå¤æ‚ | ä¸­ | ä¸­ | æ¸è¿›å¼æ‰©å±•ç±»å‹ï¼Œä¿æŒå‘åå…¼å®¹ |

### 6.2 ä¸šåŠ¡é£é™©

| é£é™© | å½±å“ | æ¦‚ç‡ | ç¼“è§£æªæ–½ |
|------|------|------|---------|
| æ•°æ®ä¸ä¸€è‡´ | ä¸­ | ä¸­ | æä¾›æ•°æ®è¦†ç›–æœºåˆ¶ï¼Œæ”¯æŒ Mock æ•°æ® |
| è§’è‰²åˆ‡æ¢å¤æ‚ | ä½ | ä½ | ç®€åŒ–è§’è‰²åˆ‡æ¢é€»è¾‘ï¼Œæä¾›é»˜è®¤è§’è‰² |

### 6.3 æ—¶é—´é£é™©

| é£é™© | å½±å“ | æ¦‚ç‡ | ç¼“è§£æªæ–½ |
|------|------|------|---------|
| å¼€å‘æ—¶é—´è¶…æœŸ | ä¸­ | ä¸­ | åˆ†é˜¶æ®µå®æ–½ï¼Œä¼˜å…ˆæ ¸å¿ƒåŠŸèƒ½ |
| æµ‹è¯•ä¸å……åˆ† | é«˜ | ä½ | æ¯ä¸ªé˜¶æ®µå®Œæˆåè¿›è¡Œå……åˆ†æµ‹è¯• |

---

## ä¸ƒã€éªŒæ”¶æ ‡å‡†

### 7.1 è¥é”€ä¸­å¿ƒé¡µé¢

- âœ… ä¼šå‘˜ä¸­å¿ƒé¡µé¢å¯åœ¨é¢„è§ˆå™¨ä¸­æ­£ç¡®æ˜¾ç¤º
- âœ… ä¼˜æƒ åˆ¸åˆ—è¡¨é¡µé¢å¯åœ¨é¢„è§ˆå™¨ä¸­æ­£ç¡®æ˜¾ç¤º
- âœ… ç§¯åˆ†é¡µé¢å¯åœ¨é¢„è§ˆå™¨ä¸­æ­£ç¡®æ˜¾ç¤º
- âœ… é‚€è¯·é¡µé¢å¯åœ¨é¢„è§ˆå™¨ä¸­æ­£ç¡®æ˜¾ç¤º
- âœ… æ´»åŠ¨é¡µé¢å¯åœ¨é¢„è§ˆå™¨ä¸­æ­£ç¡®æ˜¾ç¤º
- âœ… æ•°æ®è¦†ç›–æœºåˆ¶æ­£å¸¸å·¥ä½œ
- âœ… ç®¡ç†åå°ç›¸å…³é¡µé¢é›†æˆé¢„è§ˆå™¨

### 7.2 é™ªè¯Šå‘˜ç³»ç»Ÿé¡µé¢

- âœ… é™ªè¯Šå‘˜åˆ—è¡¨é¡µé¢å¯åœ¨é¢„è§ˆå™¨ä¸­æ­£ç¡®æ˜¾ç¤º
- âœ… é™ªè¯Šå‘˜è¯¦æƒ…é¡µé¢å¯åœ¨é¢„è§ˆå™¨ä¸­æ­£ç¡®æ˜¾ç¤º
- âœ… å·¥ä½œå°é¡µé¢å¯åœ¨é¢„è§ˆå™¨ä¸­æ­£ç¡®æ˜¾ç¤ºï¼ˆéœ€åˆ‡æ¢è§’è‰²ï¼‰
- âœ… è§’è‰²åˆ‡æ¢åŠŸèƒ½æ­£å¸¸
- âœ… åŒä¼šè¯æœºåˆ¶æ­£å¸¸å·¥ä½œ
- âœ… ç®¡ç†åå°ç›¸å…³é¡µé¢é›†æˆé¢„è§ˆå™¨

### 7.3 æŠ€æœ¯è´¨é‡


- âœ… ç±»å‹ç³»ç»Ÿå®Œæ•´ï¼Œæ—  TypeScript é”™è¯¯
- âœ… ç»„ä»¶éµå¾ªç°æœ‰ä»£ç è§„èŒƒ
- âœ… API é›†æˆå®Œæ•´ï¼Œæ”¯æŒé”™è¯¯å¤„ç†
- âœ… æ€§èƒ½æ»¡è¶³è¦æ±‚ï¼ˆé¡µé¢åˆ‡æ¢æµç•…ï¼‰

---

## å…«ã€å½“å‰å‰©ä½™ç¼ºå£ï¼ˆä¸‹ä¸€æ­¥ï¼‰

> æ­¤èŠ‚æ€»ç»“å½“å‰å·²å®Œæˆä¸å¾…å®Œæˆçš„å·¥ä½œï¼Œä¾¿äºå›¢é˜Ÿå¿«é€Ÿäº†è§£è¿›åº¦å’Œä¸‹ä¸€æ­¥ä»»åŠ¡ã€‚

### 8.1 å·²å®Œæˆ âœ…

| æ¨¡å— | å®Œæˆé¡¹ |
|------|--------|
| **åŸºç¡€è®¾æ–½** | åŒä¼šè¯éª¨æ¶ï¼ˆUserSession + EscortSessionï¼‰ã€åŒé€šé“è¯·æ±‚å°è£…ï¼ˆuserRequest / escortRequestï¼‰ã€è°ƒè¯•é¢æ¿ï¼ˆDebugPanelï¼‰ã€viewerRole æ¨å¯¼é€»è¾‘ |
| **è¥é”€ä¸­å¿ƒé¡µé¢** | 9 ä¸ªé¡µé¢ç»„ä»¶éª¨æ¶ï¼ˆMembershipPageã€MembershipPlansPageã€CouponsPageã€CouponsAvailablePageã€PointsPageã€PointsRecordsPageã€ReferralsPageã€CampaignsPageã€CampaignDetailPageï¼‰ï¼Œå‡ä½¿ç”¨ Mock æ•°æ®æ¸²æŸ“ |
| **é™ªè¯Šå‘˜åˆ—è¡¨/è¯¦æƒ…** | EscortListPageã€EscortDetailPageï¼ˆè°ƒç”¨ previewApi.getEscorts / getEscortDetailï¼‰ |
| **å·¥ä½œå°é¡µé¢** | WorkbenchPageã€OrdersPoolPageã€OrderDetailPageã€WorkbenchEarningsPageã€WorkbenchWithdrawPageï¼ˆå‡æ¥å…¥ escortRequest é€šé“ APIï¼Œæ”¯æŒå¤±è´¥é™çº§ï¼‰ |
| **API æ¥å…¥** | getEscortsã€getEscortDetailã€getWorkbenchStatsã€getWorkbenchOrdersPoolã€getWorkbenchOrderDetailã€getEarningsStatsã€getWithdrawStatsï¼ˆå…± 7 ä¸ª API å·²æ¥å…¥å¹¶æ”¯æŒ mock token é™çº§ï¼‰ |

### 8.2 å¾…å®Œæˆ âš ï¸

| ä¼˜å…ˆçº§ | ä»»åŠ¡ | è¯´æ˜ |
|--------|------|------|
| **P0** | è¥é”€ä¸­å¿ƒ API æ¥å…¥ | getMembershipLevelsã€getMyMembershipã€getMembershipPlansã€getMyCoupons ç­‰ 10 ä¸ª API å¾…æ¥å…¥ï¼Œå½“å‰é¡µé¢ä½¿ç”¨ç¡¬ç¼–ç  Mock æ•°æ® |
| **P1** | ç®¡ç†åå°é›†æˆç‚¹ | ä¼šå‘˜ç®¡ç†ã€ä¼˜æƒ åˆ¸ç®¡ç†ã€é™ªè¯Šå‘˜ç®¡ç†é¡µé¢å°šæœªé›†æˆ TerminalPreview ç»„ä»¶ |
| **P2** | å·¥ä½œå°è®¾ç½®é¡µé¢ | workbench-settings é¡µé¢å¾…å¼€å‘ |

### 8.3 ä¸‹ä¸€æ­¥è¡ŒåŠ¨å»ºè®®

1. **è¥é”€ä¸­å¿ƒ API ä¼˜å…ˆ**ï¼šåœ¨åç«¯æ¥å£å°±ç»ªåï¼Œå°† 10 ä¸ªè¥é”€ API æ¥å…¥ previewApiï¼Œé‡‡ç”¨ä¸ getEarningsStats ç›¸åŒçš„"çœŸè¯·æ±‚ä¼˜å…ˆ + å¤±è´¥é™çº§"æ¨¡å¼
2. **ç®¡ç†åå°é›†æˆ**ï¼šåœ¨ `/marketing/membership`ã€`/marketing/coupons`ã€`/escorts` ç­‰ç®¡ç†é¡µé¢æ·»åŠ  TerminalPreview é¢„è§ˆåŒºåŸŸ
3. **E2E æµ‹è¯•**ï¼šè¡¥å……é¢„è§ˆå™¨é›†æˆæµ‹è¯•ï¼Œç¡®ä¿ token åˆ‡æ¢ã€API é™çº§ã€é¡µé¢å¯¼èˆªç­‰æ ¸å¿ƒæµç¨‹ç¨³å®š


