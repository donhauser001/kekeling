# åå°é™ªè¯Šå‘˜æç°ä½“ç³» - ä»»åŠ¡å¡æ‹†è§£

> **æ‰€å±æ¨¡å—**: Admin Â· Escort Â· Withdraw  
> **å¯¹é½æ–‡æ¡£**: [01-èµ„é‡‘åŸŸæ€»è®¾è®¡å›¾.md](./01-èµ„é‡‘åŸŸæ€»è®¾è®¡å›¾.md) Â· [02-APIæ¥å£å¥‘çº¦.md](./02-APIæ¥å£å¥‘çº¦.md) Â· [04-P2å®¡æ ¸æ‰“æ¬¾è®¾è®¡.md](./04-P2å®¡æ ¸æ‰“æ¬¾è®¾è®¡.md) Â· [05-å‰ç«¯ç»„ä»¶è§„èŒƒ.md](./05-å‰ç«¯ç»„ä»¶è§„èŒƒ.md) Â· [06-ç»„ä»¶Propså¥‘çº¦.md](./06-ç»„ä»¶Propså¥‘çº¦.md)  
> **ä»£ç å¥‘çº¦**: `src/features/withdrawals/contracts.ts`  
> **å‰ç½®ä¾èµ–**: ADMIN-WD-01ï¼ˆæç°è®°å½•åˆ—è¡¨é¡µï¼‰å·²å®Œæˆ  
> **å®‰å…¨å‰æ**: å…¨éƒ¨ Admin é€šé“ï¼Œç¦æ­¢ escort/user token å†™å…¥çŠ¶æ€  
> **æ‰§è¡Œé¡ºåº**: WD-02 â†’ WD-03 â†’ WD-04 â†’ WD-05ï¼ˆç¦æ­¢è·³æ­¥ï¼‰

---

## å¼€å·¥æµæ°´çº¿ï¼ˆç¦æ­¢è·³æ­¥ï¼‰

```
Phase 1: P1 é˜¶æ®µï¼ˆåªè¯»åŠŸèƒ½ï¼‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
CARD ADMIN-WD-02ï¼ˆP1ï¼‰  æç°è®°å½•è¯¦æƒ…æŠ½å±‰ï¼ˆåªè¯»ï¼‰    â† å®¢æœç«‹åˆ»å¯ç”¨
         â†“
CARD ADMIN-WD-03ï¼ˆP1ï¼‰  æç°è®°å½•å¯¼å‡º CSV/Excel     â† è´¢åŠ¡åˆšéœ€
         â†“
CARD ADMIN-WD-04ï¼ˆP1ï¼‰  é™ªè¯Šå‘˜è¯¦æƒ…é¡µÂ·æç°è®°å½• Tab  â† å‡å°‘è·¨é¡µé¢è·³è½¬


Phase 2: P2 é˜¶æ®µï¼ˆèµ„é‡‘è£å†³åŸŸï¼‰ğŸ”¥ğŸ”¥ğŸ”¥
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
BE-WD-P2-01 çŠ¶æ€æœº â”€â”¬â”€â”€â–º BE-WD-P2-02 å®¡æ ¸ API â”€â”€â–º FE-WD-P2-01 å®¡æ ¸ Drawer
                   â”‚
                   â”œâ”€â”€â–º BE-WD-P2-03 æ‰“æ¬¾ API â”€â”€â–º FE-WD-P2-02 æ‰“æ¬¾ Modal
                   â”‚
                   â””â”€â”€â–º BE-WD-P2-04 æ—¥å¿— API â”€â”€â–º FE-WD-P2-03 æ—¥å¿—åŒº

FE-WD-P2-04 æƒé™æ§åˆ¶ï¼ˆå¹¶è¡Œï¼‰
         â†“
QA-WD-P2-01 + SEC-WD-P2-01 éªŒæ”¶æµ‹è¯•
```

---

## ğŸ“‹ ä»»åŠ¡å¡æ€»è§ˆ

### P0/P1 ä»»åŠ¡å¡

| å¡ç‰‡ | ä¼˜å…ˆçº§ | å†…å®¹ | é¢„ä¼° | çŠ¶æ€ |
|------|--------|------|------|------|
| **ADMIN-WD-01** | P0 | æç°è®°å½•åˆ—è¡¨é¡µ | - | âœ… completed |
| **ADMIN-WD-02** | P1-1 | æç°è¯¦æƒ…æŠ½å±‰ï¼ˆåªè¯»ï¼‰ | 4h | pending |
| **ADMIN-WD-03** | P1-2 | æç°è®°å½•å¯¼å‡º | 3h | pending |
| **ADMIN-WD-04** | P1-3 | é™ªè¯Šå‘˜è¯¦æƒ…é¡µ Tab | 2h | pending |

**P1 æ€»é¢„ä¼°**: 9hï¼ˆä¸å« Review å’Œ QAï¼‰

### P2 ä»»åŠ¡å¡ï¼ˆåç«¯ï¼‰

| å¡ç‰‡ | ä¼˜å…ˆçº§ | å†…å®¹ | é¢„ä¼° | çŠ¶æ€ |
|------|--------|------|------|------|
| **BE-WD-P2-01** | P0 | æç°çŠ¶æ€æœºä¸éæ³•è·³è½¬é˜²æŠ¤ | 4h | pending |
| **BE-WD-P2-02** | P0 | æç°å®¡æ ¸ APIï¼ˆé€šè¿‡/é©³å›ï¼‰ | 4h | pending |
| **BE-WD-P2-03** | P0 | æç°æ‰“æ¬¾ APIï¼ˆé«˜å±ï¼‰ | 6h | pending |
| **BE-WD-P2-04** | P1 | æç°æ“ä½œæ—¥å¿—èšåˆæ¥å£ | 2h | pending |

### P2 ä»»åŠ¡å¡ï¼ˆå‰ç«¯ï¼‰

| å¡ç‰‡ | ä¼˜å…ˆçº§ | å†…å®¹ | é¢„ä¼° | çŠ¶æ€ |
|------|--------|------|------|------|
| **FE-WD-P2-01** | P0 | å®¡æ ¸ Drawerï¼ˆé€šè¿‡/é©³å›ï¼‰ | 4h | pending |
| **FE-WD-P2-02** | P0 | æ‰“æ¬¾ç¡®è®¤ Modalï¼ˆé‡å‹ï¼‰ | 6h | pending |
| **FE-WD-P2-03** | P1 | æç°è¯¦æƒ… Drawer - æ“ä½œæ—¥å¿—åŒº | 3h | pending |
| **FE-WD-P2-04** | P0 | æƒé™ä¸å¯è§æ€§æ§åˆ¶ | 2h | pending |

### P2 ä»»åŠ¡å¡ï¼ˆQA/å®‰å…¨ï¼‰

| å¡ç‰‡ | ä¼˜å…ˆçº§ | å†…å®¹ | é¢„ä¼° | çŠ¶æ€ |
|------|--------|------|------|------|
| **QA-WD-P2-01** | P0 | æç°æµç¨‹å›å½’æµ‹è¯• | 4h | pending |
| **SEC-WD-P2-01** | P0 | èµ„é‡‘åŸŸå®¡è®¡æ£€æŸ¥ | 4h | pending |

**P2 æ€»é¢„ä¼°**: 39hï¼ˆè¯¦è§ [04-P2å®¡æ ¸æ‰“æ¬¾è®¾è®¡.md](./04-P2å®¡æ ¸æ‰“æ¬¾è®¾è®¡.md)ï¼‰

---

## ğŸš¦ éªŒæ”¶ Gateï¼ˆé˜²æ­¢è¶Šæƒå¼€å‘ï¼‰

### P0 å®Œæˆæ ‡å‡†

> â— **P0 çº¢çº¿**ï¼šåªè¯»åˆ—è¡¨ï¼Œä¸ç¢°ä»»ä½•å†™æ“ä½œ

- âœ… ä¸åŒ…å«ä»»ä½• `approve` / `reject` / `payout` æŒ‰é’®
- âœ… æ‰€æœ‰æ•°æ®åªè¯»
- âœ… æ— çŠ¶æ€å†™å…¥æ¥å£è°ƒç”¨
- âœ… æ—  `POST` / `PATCH` / `DELETE` è¯·æ±‚

### P1 å®Œæˆæ ‡å‡†

> â— **P1 çº¢çº¿**ï¼šè¯¦æƒ…/å¯¼å‡º/Tabï¼Œä»ç„¶ä¸ç¢°å†™æ“ä½œ

- âœ… è¯¦æƒ…æŠ½å±‰åªè¯»ï¼Œæ— æ“ä½œæŒ‰é’®
- âœ… å¯¼å‡ºèµ°åç«¯ APIï¼Œå†™å®¡è®¡æ—¥å¿—
- âœ… Tab å¤ç”¨åˆ—è¡¨ç»„ä»¶ï¼Œå¼ºåˆ¶ escortId ç­›é€‰
- âœ… æ— çŠ¶æ€å†™å…¥æ¥å£è°ƒç”¨

### P2 å‡†å…¥æ¡ä»¶

> âš ï¸ **P2 å‡†å…¥**ï¼šå¿…é¡»æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ‰èƒ½å¼€å·¥

- [ ] P0 + P1 å…¨éƒ¨å®Œæˆå¹¶éªŒæ”¶
- [ ] çŠ¶æ€æœºåç«¯æµ‹è¯•è¦†ç›– 100%
- [ ] å®¡è®¡æ—¥å¿—åŠŸèƒ½å·²ä¸Šçº¿
- [ ] æƒé™çŸ©é˜µå·²é…ç½®ï¼ˆ`withdraw.approve` / `withdraw.payout`ï¼‰
- [ ] äº§å“/è´¢åŠ¡/é£æ§ä¸‰æ–¹ç­¾å­—ç¡®è®¤

---

## æ ¸å¿ƒçº¦æŸï¼ˆå¼ºåˆ¶éµå®ˆï¼‰

### ğŸ”’ å®‰å…¨æŠ¤æ 

| è§„åˆ™ | è¯´æ˜ |
|------|------|
| **é€šé“é™åˆ¶** | Admin åŸŸæ“ä½œå¿…é¡» `adminRequest`ï¼Œç¦æ­¢ `escortRequest` / `userRequest` |
| **çŠ¶æ€å†™å…¥** | ä»… Admin å¯å†™æç°çŠ¶æ€ï¼Œç»ˆç«¯åªè¯» |
| **å®¡è®¡æ—¥å¿—** | å¯¼å‡º/å®¡æ ¸/æ‰“æ¬¾å¿…é¡»å†™ `ADMIN_AUDIT_LOG` |
| **æ•æ„Ÿè„±æ•** | æ‰‹æœºå·ã€è´¦æˆ·å·ã€æ¸ é“å›æ‰§å¿…é¡»è„±æ• |

### ğŸš« ç¦æ­¢è¡Œä¸º

```typescript
// âŒ ç¦æ­¢ï¼šç»ˆç«¯å†™å…¥æç°çŠ¶æ€
escortRequest.patch('/escort-app/withdraw/:id', { status: 'approved' })

// âŒ ç¦æ­¢ï¼šå‰ç«¯ç›´æ¥æ‹¼ CSV
const csv = data.map(row => row.join(',')).join('\n')

// âŒ ç¦æ­¢ï¼šè·³è¿‡çŠ¶æ€æœºæ ¡éªŒ
await db.withdraw.update({ status: 'completed' }) // å¿…é¡»èµ°çŠ¶æ€æœºæœåŠ¡
```

---

## CARD ADMIN-WD-02: æç°è®°å½•è¯¦æƒ…æŠ½å±‰ï¼ˆåªè¯»ï¼‰

### ç›®æ ‡

åœ¨ä¸å¼•å…¥"æ“ä½œé£é™©"çš„å‰æä¸‹ï¼Œè®©å®¢æœ/è´¢åŠ¡/é£æ§èƒ½å¤Ÿå¿«é€Ÿå®šä½ä¸€ç¬”æç°çš„å®Œæ•´ä¸Šä¸‹æ–‡ã€‚

### èŒƒå›´

| åŒ…å« | ä¸åŒ…å« |
|------|--------|
| åˆ—è¡¨é¡µã€ŒæŸ¥çœ‹ã€â†’ æ‰“å¼€ Drawer | ä¿®æ”¹çŠ¶æ€ |
| å±•ç¤ºå®Œæ•´ä¿¡æ¯ + æ“ä½œæ—¥å¿— | é‡æ–°æ‰“æ¬¾ |
| çŠ¶æ€ Badge + å¤±è´¥åŸå›  | å®¡æ‰¹åŠ¨ä½œï¼ˆP2ï¼‰ |

### API æ‰©å±•

```typescript
// GET /admin/escorts/withdraw-records/:id

interface AdminEscortWithdrawDetail {
  // åŸºç¡€ä¿¡æ¯ï¼ˆå¤ç”¨åˆ—è¡¨å­—æ®µï¼‰
  base: AdminEscortWithdrawRecord

  // æ‰©å±•å­—æ®µ
  transactionNo?: string      // ç¬¬ä¸‰æ–¹äº¤æ˜“å·
  channel?: 'alipay' | 'wechat' | 'bank'
  channelResponse?: string    // åŸå§‹å›æ‰§ï¼ˆè„±æ•ï¼‰

  // æ“ä½œæ—¥å¿—
  logs: WithdrawLog[]
}

interface WithdrawLog {
  id: string
  action: 'create' | 'submit' | 'processing' | 'success' | 'fail'
  operator: 'system' | 'admin'
  operatorName?: string
  message?: string
  createdAt: string
}
```

### UI ç»“æ„ï¼ˆDrawerï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æç°è¯¦æƒ…                        [Ã—] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã€åŸºç¡€ä¿¡æ¯ã€‘                        â”‚
â”‚  æç°å•å·: WD202412120001           â”‚
â”‚  é™ªè¯Šå‘˜:   å¼ ä¸‰ (ID: 1001)          â”‚
â”‚  æ‰‹æœº:     138****8888              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã€é‡‘é¢ä¿¡æ¯ã€‘                        â”‚
â”‚  æç°é‡‘é¢: Â¥500.00                  â”‚
â”‚  æ‰‹ç»­è´¹:   Â¥2.50                    â”‚
â”‚  å®é™…åˆ°è´¦: Â¥497.50                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã€è´¦æˆ·ä¿¡æ¯ã€‘                        â”‚
â”‚  æç°æ–¹å¼: æ”¯ä»˜å®                   â”‚
â”‚  è´¦æˆ·:     138****8888              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã€çŠ¶æ€ä¿¡æ¯ã€‘                        â”‚
â”‚  å½“å‰çŠ¶æ€: [å·²å®Œæˆ] âœ“               â”‚
â”‚  ç”³è¯·æ—¶é—´: 2024-12-12 10:00         â”‚
â”‚  æ‰“æ¬¾æ—¶é—´: 2024-12-12 14:30         â”‚
â”‚  äº¤æ˜“å·:   2024121200001234567      â”‚
â”‚                                     â”‚
â”‚  ï¼ˆä»… failed æ˜¾ç¤ºï¼‰                 â”‚
â”‚  å¤±è´¥åŸå› : è´¦æˆ·ä¿¡æ¯æœ‰è¯¯             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã€æ“ä½œæ—¥å¿—ã€‘                        â”‚
â”‚  â— 12-12 14:30  æ‰“æ¬¾æˆåŠŸ [system]   â”‚
â”‚  â— 12-12 14:00  å‘èµ·æ‰“æ¬¾ [admin]    â”‚
â”‚  â— 12-12 11:00  å®¡æ ¸é€šè¿‡ [admin]    â”‚
â”‚  â— 12-12 10:00  æäº¤ç”³è¯· [system]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å®ç°è¦ç‚¹

```typescript
// 1. è¯¦æƒ…æŸ¥è¯¢ hook
const useWithdrawDetail = (id: string) => {
  return useQuery({
    queryKey: ['admin', 'withdraw-records', id, 'detail'],
    queryFn: () => adminRequest<AdminEscortWithdrawDetail>(
      `/admin/escorts/withdraw-records/${id}`
    ),
    enabled: !!id,
  })
}

// 2. Drawer çŠ¶æ€ç®¡ç†
const [selectedId, setSelectedId] = useState<string | null>(null)

// 3. åˆ—è¡¨è¡Œç‚¹å‡»
<Button onClick={() => setSelectedId(record.id)}>æŸ¥çœ‹</Button>

// 4. Drawer ç»„ä»¶
<WithdrawDetailDrawer
  open={!!selectedId}
  withdrawId={selectedId}
  onClose={() => setSelectedId(null)}
/>
```

### éªŒæ”¶æ ‡å‡†ï¼ˆDoDï¼‰

- [ ] Drawer æ‰“å¼€/å…³é—­ä¸åˆ·æ–°åˆ—è¡¨é¡µ
- [ ] `failed` çŠ¶æ€æ‰å±•ç¤º `failReason` åŒºå—
- [ ] æ—¥å¿—æŒ‰æ—¶é—´å€’åºå±•ç¤ºï¼ˆæœ€æ–°åœ¨ä¸Šï¼‰
- [ ] æ•æ„Ÿå­—æ®µå·²è„±æ•ï¼ˆæ‰‹æœºã€è´¦æˆ·ï¼‰
- [ ] ä»… Admin å¯è®¿é—®
- [ ] TypeScript ç¼–è¯‘é€šè¿‡

### ğŸ” Review Checklist

```bash
# ç¡®è®¤æ— æ“ä½œæŒ‰é’®
grep -r "approve\|reject\|payout" --include="*WithdrawDetailDrawer*.tsx"

# ç¡®è®¤èµ° adminRequest
grep -r "escortRequest\|userRequest" --include="*WithdrawDetail*.tsx"
```

---

## CARD ADMIN-WD-03: æç°è®°å½•å¯¼å‡º CSV/Excel

### ç›®æ ‡

æ»¡è¶³è´¢åŠ¡å¯¹è´¦/è¿è¥ç»Ÿè®¡çš„ç¦»çº¿éœ€æ±‚ã€‚

### èŒƒå›´

| åŒ…å« | ä¸åŒ…å« |
|------|--------|
| åˆ—è¡¨é¡µã€Œå¯¼å‡ºã€æŒ‰é’® | å¯¼å‡ºå…¨é‡ï¼ˆæ— ç­›é€‰ï¼‰ |
| å¯¼å‡ºå½“å‰ç­›é€‰æ¡ä»¶ä¸‹çš„æ•°æ® | å‰ç«¯æ‹¼æ¥ CSV |
| æ”¯æŒ CSVï¼ˆå¿…é¡»ï¼‰/ Excelï¼ˆå¯é€‰ï¼‰ | å®æ—¶ä¸‹è½½è¶…å¤§æ–‡ä»¶ |

### API è®¾è®¡

```typescript
// GET /admin/escorts/withdraw-records/export?format=csv|xlsx

// å‚æ•°ï¼šä¸åˆ—è¡¨é¡µç­›é€‰å®Œå…¨ä¸€è‡´
interface ExportParams {
  status?: string
  dateRange?: string
  startDate?: string
  endDate?: string
  escortId?: string
  keyword?: string
  format: 'csv' | 'xlsx'
}

// å“åº”ï¼šæ–‡ä»¶æµ + Content-Disposition
// Content-Type: text/csv; charset=utf-8
// Content-Disposition: attachment; filename="withdraw_records_20241212.csv"
```

### å¯¼å‡ºå­—æ®µï¼ˆç¬¬ä¸€ç‰ˆï¼‰

| åºå· | å­—æ®µå | è¯´æ˜ |
|------|--------|------|
| 1 | æç°å•å· | withdrawNo |
| 2 | é™ªè¯Šå‘˜å§“å | escortName |
| 3 | é™ªè¯Šå‘˜ID | escortId |
| 4 | æ‰‹æœºå· | è„±æ•æ ¼å¼ 138****8888 |
| 5 | æç°é‡‘é¢ | amount |
| 6 | æ‰‹ç»­è´¹ | fee |
| 7 | å®é™…åˆ°è´¦ | netAmount |
| 8 | æç°æ–¹å¼ | channel |
| 9 | è´¦æˆ· | è„±æ• |
| 10 | çŠ¶æ€ | statusText |
| 11 | ç”³è¯·æ—¶é—´ | createdAt |
| 12 | æ‰“æ¬¾æ—¶é—´ | paidAt |

### å®ç°è¦ç‚¹

```typescript
// 1. å¯¼å‡ºæŒ‰é’®
<Button
  icon={<DownloadIcon />}
  onClick={handleExport}
  loading={isExporting}
>
  å¯¼å‡º
</Button>

// 2. å¯¼å‡ºé€»è¾‘ï¼ˆå¿…é¡»èµ°åç«¯ï¼‰
const handleExport = async () => {
  setIsExporting(true)
  try {
    const params = new URLSearchParams({
      ...currentFilters,
      format: 'csv',
    })
    
    // ä½¿ç”¨ fetch ä¸‹è½½æ–‡ä»¶æµ
    const response = await fetch(
      `/api/admin/escorts/withdraw-records/export?${params}`,
      {
        headers: { Authorization: `Bearer ${adminToken}` },
      }
    )
    
    if (!response.ok) throw new Error('å¯¼å‡ºå¤±è´¥')
    
    // è§¦å‘ä¸‹è½½
    const blob = await response.blob()
    const url = URL.createObjectURL(blob)
    const a = document.createElement('a')
    a.href = url
    a.download = `withdraw_records_${dayjs().format('YYYYMMDD')}.csv`
    a.click()
    URL.revokeObjectURL(url)
    
    message.success('å¯¼å‡ºæˆåŠŸ')
  } catch (error) {
    message.error('å¯¼å‡ºå¤±è´¥ï¼Œè¯·é‡è¯•')
  } finally {
    setIsExporting(false)
  }
}
```

### åç«¯çº¦æŸ

| çº¦æŸ | è¯´æ˜ |
|------|------|
| **æµå¼å“åº”** | å¤§æ•°æ®é‡ä½¿ç”¨ streamï¼Œé¿å… OOM |
| **å•æ¬¡ä¸Šé™** | å»ºè®® 10000 æ¡ï¼Œè¶…å‡ºæç¤ºåˆ†æ‰¹ |
| **å®¡è®¡æ—¥å¿—** | å¿…é¡»è®°å½•ï¼šè°å¯¼å‡ºã€ä»€ä¹ˆæ¡ä»¶ã€å¤šå°‘æ¡ |
| **æƒé™æ ¡éªŒ** | `withdraw.export` æƒé™ |

### éªŒæ”¶æ ‡å‡†ï¼ˆDoDï¼‰

- [ ] å¯¼å‡ºæ–‡ä»¶ä¸å½“å‰ç­›é€‰æ¡ä»¶ä¸€è‡´
- [ ] å¯¼å‡ºèµ°åç«¯ APIï¼Œç¦æ­¢å‰ç«¯æ‹¼ CSV
- [ ] å‰ç«¯æœ‰ loading çŠ¶æ€
- [ ] å¯¼å‡ºå¤±è´¥æœ‰é”™è¯¯æç¤º
- [ ] å¯¼å‡ºè¡Œä¸ºå†™å…¥å®¡è®¡æ—¥å¿—
- [ ] æ•æ„Ÿå­—æ®µå·²è„±æ•
- [ ] TypeScript ç¼–è¯‘é€šè¿‡

### ğŸ” Review Checklist

```bash
# ç¡®è®¤ä¸èµ°å‰ç«¯æ‹¼ CSV
grep -r "\.join\(','\)" --include="*Withdraw*.tsx"
grep -r "text/csv" --include="*Withdraw*.tsx" # å‰ç«¯ä¸åº”æœ‰æ­¤ MIME

# ç¡®è®¤èµ°åç«¯å¯¼å‡º
grep -r "/export" --include="*Withdraw*.tsx"
```

---

## CARD ADMIN-WD-04: é™ªè¯Šå‘˜è¯¦æƒ…é¡µÂ·æç°è®°å½• Tab

### ç›®æ ‡

å‡å°‘è·¨é¡µé¢è·³è½¬ï¼Œæé«˜å®¢æœå¤„ç†æ•ˆç‡ã€‚

### èŒƒå›´

| åŒ…å« | ä¸åŒ…å« |
|------|--------|
| é™ªè¯Šå‘˜è¯¦æƒ…é¡µæ–°å¢ã€Œæç°è®°å½•ã€Tab | æ–°å»ºç‹¬ç«‹é¡µé¢ |
| å¤ç”¨ WD-01 åˆ—è¡¨ç»„ä»¶ | ä¿®æ”¹æç°çŠ¶æ€ |
| è‡ªåŠ¨æ³¨å…¥ escortId ç­›é€‰ | ç§»é™¤ escortId ç­›é€‰ |

### å®ç°è¦ç‚¹

```typescript
// 1. Tab é…ç½®
const tabs = [
  { key: 'basic', label: 'åŸºç¡€ä¿¡æ¯' },
  { key: 'orders', label: 'è®¢å•' },
  { key: 'earnings', label: 'æ”¶å…¥' },
  { key: 'withdraw', label: 'æç°è®°å½•' }, // æ–°å¢
]

// 2. å¤ç”¨åˆ—è¡¨ç»„ä»¶ï¼ˆä¼ å…¥ escortIdï¼‰
<WithdrawRecordList
  escortId={escort.id}           // å¼ºåˆ¶æ³¨å…¥
  hideEscortColumn={true}        // éšè—é™ªè¯Šå‘˜åˆ—
  enableExport={true}            // ä¿ç•™å¯¼å‡ºèƒ½åŠ›
/>

// 3. queryKey ç¤ºä¾‹
const queryKey = [
  'admin',
  'withdraw-records',
  {
    escortId,      // å›ºå®š
    page,
    pageSize,
    status,
    dateRange,
  },
]
```

### ç»„ä»¶å¤ç”¨ç­–ç•¥

```typescript
// WithdrawRecordList ç»„ä»¶æ¥å£
interface WithdrawRecordListProps {
  /** å›ºå®šç­›é€‰çš„é™ªè¯Šå‘˜ IDï¼ˆè¯¦æƒ…é¡µ Tab åœºæ™¯ï¼‰ */
  escortId?: string
  /** æ˜¯å¦éšè—é™ªè¯Šå‘˜åˆ— */
  hideEscortColumn?: boolean
  /** æ˜¯å¦å¯ç”¨å¯¼å‡º */
  enableExport?: boolean
}

// åˆ—è¡¨é¡µä½¿ç”¨
<WithdrawRecordList />

// è¯¦æƒ…é¡µ Tab ä½¿ç”¨
<WithdrawRecordList
  escortId={currentEscortId}
  hideEscortColumn
  enableExport
/>
```

### éªŒæ”¶æ ‡å‡†ï¼ˆDoDï¼‰

- [ ] Tab åˆ‡æ¢ä¸åˆ·æ–°æ•´ä¸ªè¯¦æƒ…é¡µ
- [ ] `escortId` å›ºå®šæ³¨å…¥ï¼Œç”¨æˆ·ä¸å¯ç§»é™¤
- [ ] åˆ—è¡¨ç»“æ„ä¸ WD-01 ä¸€è‡´ï¼ˆé™¤éšè—é™ªè¯Šå‘˜åˆ—ï¼‰
- [ ] å¯¼å‡ºä»…å¯¼å‡ºè¯¥é™ªè¯Šå‘˜æ•°æ®
- [ ] ä»éµå®ˆ Admin æƒé™æ ¡éªŒ
- [ ] TypeScript ç¼–è¯‘é€šè¿‡

### ğŸ” Review Checklist

```bash
# ç¡®è®¤ escortId å¼ºåˆ¶å†™å…¥ query
grep -r "escortId" --include="*EscortDetail*.tsx"

# ç¡®è®¤å¤ç”¨åˆ—è¡¨ç»„ä»¶
grep -r "WithdrawRecordList" --include="*EscortDetail*.tsx"
```

---

## ğŸ”¥ Epic: Escort Withdraw P2 â€“ Review & Payout

> âš ï¸ **é£é™©ç­‰çº§**: ğŸ”¥ğŸ”¥ğŸ”¥ï¼ˆèµ„é‡‘è£å†³åŸŸï¼‰  
> ğŸ“„ **äº¤äº’è®¾è®¡**: [04-P2å®¡æ ¸æ‰“æ¬¾è®¾è®¡.md](./04-P2å®¡æ ¸æ‰“æ¬¾è®¾è®¡.md)  
> **å‰ç½®ä¾èµ–**: P0/P1 æç°åˆ—è¡¨ & è¯¦æƒ… Drawer å·²å®Œæˆ

### Epic Descriptionï¼ˆå¯ç›´æ¥è´´ Jiraï¼‰

```
æœ¬ Epic è´Ÿè´£é™ªè¯Šå‘˜æç°çš„ å®¡æ ¸ä¸æ‰“æ¬¾æµç¨‹ã€‚
æ‰€æœ‰æ“ä½œä»…é™ Adminï¼Œéµå¾ªå¼ºçŠ¶æ€æœºã€å¼ºå®¡è®¡ã€ä¸å¯æ‰¹é‡åŸåˆ™ã€‚
ç¦æ­¢ä»»ä½•è·³çŠ¶æ€ã€åˆå¹¶æ“ä½œæˆ–æ— å®¡è®¡æ—¥å¿—çš„èµ„é‡‘è¡Œä¸ºã€‚
```

---

## BE-WD-P2-01ï½œæç°çŠ¶æ€æœºä¸æƒé™æ ¡éªŒ

> **ç±»å‹**: Backend  
> **ä¼˜å…ˆçº§**: P0  
> **ä¾èµ–**: `withdraw_requests` è¡¨

### ç›®æ ‡

å®ç°æç°çŠ¶æ€æœº + éæ³•è·³è½¬é˜²æŠ¤ã€‚

### çŠ¶æ€æœºè§„åˆ™

```
pending â†’ approved â†’ processing â†’ completed
                 â†˜ï¸ failed
pending â†’ rejected
```

### å·¥ä½œå†…å®¹

- [ ] å®šä¹‰çŠ¶æ€æšä¸¾ä¸åˆæ³•è·³è½¬è¡¨
- [ ] éæ³•çŠ¶æ€è·³è½¬è¿”å› `409 Conflict`
- [ ] æ ¡éªŒå½“å‰çŠ¶æ€ä¸æ“ä½œåŒ¹é…
- [ ] `completed` / `failed` / `rejected` ä¸å¯å†å˜æ›´

### éªŒæ”¶æ ‡å‡†ï¼ˆDoDï¼‰

- [ ] ä»»æ„éæ³•è·³è½¬è¢« 409 æ‹¦æˆª
- [ ] ç»ˆæ€ä¸å¯å†å˜æ›´
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–æ‰€æœ‰éæ³•è·¯å¾„
- [ ] TypeScript ç±»å‹å®Œæ•´

---

## BE-WD-P2-02ï½œæç°å®¡æ ¸ APIï¼ˆé€šè¿‡/é©³å›ï¼‰

> **ç±»å‹**: Backend  
> **ä¼˜å…ˆçº§**: P0  
> **æƒé™**: `ADMIN_WITHDRAW_REVIEW`

### API

```http
POST /admin/withdraw-records/:id/review
```

### è¯·æ±‚ä½“

```typescript
interface ReviewRequest {
  action: 'approve' | 'reject'
  rejectReason?: string  // reject æ—¶å¿…å¡«
}
```

### ä¸šåŠ¡è§„åˆ™

| è§„åˆ™ | è¯´æ˜ |
|------|------|
| å‰ç½®çŠ¶æ€ | ä»… `status === 'pending'` å¯æ“ä½œ |
| é©³å›åŸå›  | `reject` å¿…é¡»å¡«å†™ `rejectReason` |
| å‰¯ä½œç”¨ | å†™ `withdraw_logs` + `admin_audit_log` |
| Ledger | âŒ å®¡æ ¸é˜¶æ®µä¸è§¦å‘ Ledger |

### éªŒæ”¶æ ‡å‡†ï¼ˆDoDï¼‰

- [ ] `approve` â†’ `approved`
- [ ] `reject` â†’ `rejected`ï¼Œ`rejectReason` æŒä¹…åŒ–
- [ ] é `pending` çŠ¶æ€è¿”å› 409
- [ ] å…¨é‡å®¡è®¡æ—¥å¿—
- [ ] æƒé™æ ¡éªŒç”Ÿæ•ˆ

---

## BE-WD-P2-03ï½œæç°æ‰“æ¬¾ APIï¼ˆé«˜å±ï¼‰

> **ç±»å‹**: Backend  
> **ä¼˜å…ˆçº§**: P0  
> **æƒé™**: `ADMIN_WITHDRAW_PAYOUT`

### API

```http
POST /admin/withdraw-records/:id/payout
```

### è¯·æ±‚ä½“

```typescript
interface PayoutRequest {
  payoutMethod: 'manual' | 'channel'
  operatorConfirmText: 'CONFIRM'  // å¿…é¡»å®Œå…¨åŒ¹é…
  transactionNo?: string          // æ‰‹åŠ¨æ‰“æ¬¾æ—¶å¡«å†™
}
```

### å¼ºçº¦æŸ

| çº¦æŸ | è¯´æ˜ |
|------|------|
| å‰ç½®çŠ¶æ€ | ä»… `status === 'approved'` |
| äºŒæ¬¡ç¡®è®¤ | `operatorConfirmText` å¿…é¡»æ˜¯ `'CONFIRM'` |
| äº‹åŠ¡ | çŠ¶æ€å˜æ›´ + Ledger åœ¨åŒä¸€äº‹åŠ¡å†…å®Œæˆ |
| å¹‚ç­‰ | `transactionNo` å”¯ä¸€çº¦æŸï¼Œé˜²é‡å¤æ‰“æ¬¾ |

### å‰¯ä½œç”¨

**æˆåŠŸè·¯å¾„**

| æ­¥éª¤ | ç³»ç»Ÿè¡Œä¸º |
|------|----------|
| çŠ¶æ€å˜æ›´ | `approved â†’ processing â†’ completed` |
| Ledger | `withdraw_done`ï¼ˆå†»ç»“ç¡®è®¤æ‰£å‡ï¼‰ |
| å†™å…¥ | `withdraw_logs` + `admin_audit_log` |
| å›å†™ | `transactionNo` |

**å¤±è´¥è·¯å¾„**

| æ­¥éª¤ | ç³»ç»Ÿè¡Œä¸º |
|------|----------|
| çŠ¶æ€å˜æ›´ | `processing â†’ failed` |
| Ledger | é‡Šæ”¾å†»ç»“ |
| å¿…å¡« | `failReason` |

### éªŒæ”¶æ ‡å‡†ï¼ˆDoDï¼‰

- [ ] æœªè¾“å…¥ `CONFIRM` â†’ 422
- [ ] çŠ¶æ€é”™è¯¯ â†’ 409
- [ ] Ledger ä¸æœ€ç»ˆçŠ¶æ€ä¸€è‡´
- [ ] äº‹åŠ¡å®Œæ•´æ€§ä¿è¯
- [ ] æƒé™æ ¡éªŒç”Ÿæ•ˆ

---

## BE-WD-P2-04ï½œæç°æ“ä½œæ—¥å¿—èšåˆæ¥å£

> **ç±»å‹**: Backend  
> **ä¼˜å…ˆçº§**: P1

### API

```http
GET /admin/withdraw-records/:id/logs
```

### å“åº”

```typescript
interface WithdrawLogsResponse {
  logs: {
    id: string
    action: 'create' | 'approve' | 'reject' | 'payout' | 'complete' | 'fail'
    operator: 'system' | 'admin'
    operatorName?: string  // è„±æ•å±•ç¤º
    message?: string
    createdAt: string
  }[]
}
```

### éªŒæ”¶æ ‡å‡†ï¼ˆDoDï¼‰

- [ ] æ—¶é—´å€’åºæ’åˆ—
- [ ] æ“ä½œäººè„±æ•å±•ç¤º
- [ ] ä¸ `admin_audit_log` æ•°æ®å¯¹é½
- [ ] åŒ…å«çŠ¶æ€å˜æ›´æ—¶é—´è½´

---

## FE-WD-P2-01ï½œå®¡æ ¸ Drawer

> **ç±»å‹**: Frontend  
> **ä¼˜å…ˆçº§**: P0  
> **ä¾èµ–**: BE-WD-P2-02

### è§¦å‘

åˆ—è¡¨é¡µã€Œå®¡æ ¸ã€æŒ‰é’®ï¼ˆä»… `status === 'pending'` æ˜¾ç¤ºï¼‰

### UI ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å®¡æ ¸æç°ç”³è¯·                               [Ã—]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã€A. ä¿¡æ¯åªè¯»åŒºã€‘                               â”‚
â”‚  é™ªè¯Šå‘˜ / æ‰‹æœº / æç°é‡‘é¢ / åˆ°è´¦è´¦æˆ·            â”‚
â”‚  å½“å‰å¯æç°ä½™é¢ / æäº¤æ—¶é—´                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã€B. é£é™©æç¤ºåŒºã€‘ï¼ˆå¦‚æœ‰ï¼‰                       â”‚
â”‚  ä»Šæ—¥ç”³è¯·æ¬¡æ•° / æœ¬æœˆç´¯è®¡æç° / é£æ§æ ‡è®°         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã€C. å®¡æ ¸åŠ¨ä½œåŒºã€‘                               â”‚
â”‚  ( ) å®¡æ ¸é€šè¿‡                                   â”‚
â”‚  ( ) é©³å›ç”³è¯· â†’ [é©³å›åŸå› è¾“å…¥æ¡†]                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã€D. äºŒæ¬¡ç¡®è®¤ã€‘                                 â”‚
â”‚  âš ï¸ ç¡®è®¤åå°†è¿›å…¥ä¸‹ä¸€é˜¶æ®µï¼Œä¸å¯æ’¤é”€              â”‚
â”‚                                                 â”‚
â”‚        [å–æ¶ˆ]     [ç¡®è®¤å®¡æ ¸é€šè¿‡] / [ç¡®è®¤é©³å›]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### éªŒæ”¶æ ‡å‡†ï¼ˆDoDï¼‰

- [ ] é `pending` ä¸æ˜¾ç¤ºå®¡æ ¸æŒ‰é’®
- [ ] `reject` æœªå¡«åŸå› ä¸å¯æäº¤
- [ ] æäº¤åçŠ¶æ€å³æ—¶åˆ·æ–°
- [ ] ä¿¡æ¯å…¨åªè¯»ï¼Œæ— ç¼–è¾‘èƒ½åŠ›
- [ ] äºŒæ¬¡ç¡®è®¤æ–‡æ¡ˆæ˜ç¡®

---

## FE-WD-P2-02ï½œæ‰“æ¬¾ç¡®è®¤ Modalï¼ˆé‡å‹ï¼‰

> **ç±»å‹**: Frontend  
> **ä¼˜å…ˆçº§**: P0  
> **ä¾èµ–**: BE-WD-P2-03

### è§¦å‘

åˆ—è¡¨é¡µã€Œæ‰“æ¬¾ã€æŒ‰é’®ï¼ˆä»… `status === 'approved'` æ˜¾ç¤ºï¼‰

### UI ç»“æ„ï¼ˆModalï¼Œé Drawerï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç¡®è®¤æ‰“æ¬¾æ“ä½œ                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â‘  é«˜å±æç¤ºï¼ˆçº¢è‰²èƒŒæ™¯ï¼‰                               â”‚
â”‚  âš ï¸ æœ¬æ“ä½œå°†çœŸå®å‘ç”Ÿèµ„é‡‘æ‰“æ¬¾ï¼Œè¯·ç¡®è®¤ä»¥ä¸‹ä¿¡æ¯æ— è¯¯       â”‚
â”‚                                                       â”‚
â”‚  â‘¡ å…³é”®ä¿¡æ¯å¤æ ¸ï¼ˆåŠ ç²—ï¼‰                               â”‚
â”‚  æç°é‡‘é¢ / åˆ°è´¦è´¦æˆ· / é™ªè¯Šå‘˜ ID / å½“å‰çŠ¶æ€           â”‚
â”‚                                                       â”‚
â”‚  â‘¢ æ‰“æ¬¾æ–¹å¼é€‰æ‹©                                       â”‚
â”‚  (â—) æ‰‹åŠ¨æ‰“æ¬¾ï¼ˆçº¿ä¸‹ï¼‰                                 â”‚
â”‚  ( ) æ”¯ä»˜é€šé“æ‰“æ¬¾ï¼ˆé¢„ç•™ï¼‰                             â”‚
â”‚                                                       â”‚
â”‚  â‘£ äºŒæ¬¡ç¡®è®¤è¾“å…¥                                       â”‚
â”‚  è¯·è¾“å…¥ CONFIRM ç¡®è®¤æ‰“æ¬¾: [________________]          â”‚
â”‚  ï¼ˆç¦æ­¢å¤åˆ¶ç²˜è´´ï¼‰                                     â”‚
â”‚                                                       â”‚
â”‚              [å–æ¶ˆ]        [ç¡®è®¤æ‰“æ¬¾å¹¶è®°å½•]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å¼ºçº¦æŸ

| çº¦æŸ | è¯´æ˜ |
|------|------|
| Modal | ç”¨ Modal åˆ¶é€ å¿ƒç†åœé¡¿ï¼Œä¸ç”¨ Drawer |
| ç¦æ­¢ç²˜è´´ | `onPaste={(e) => e.preventDefault()}` |
| Loading é”å®š | æäº¤ä¸­ç¦ç”¨æ‰€æœ‰äº¤äº’ |

### éªŒæ”¶æ ‡å‡†ï¼ˆDoDï¼‰

- [ ] æœªè¾“å…¥ `CONFIRM` ç¦æ­¢æäº¤
- [ ] æ‰“æ¬¾ä¸­ loading é”æ­»æŒ‰é’®
- [ ] æˆåŠŸ/å¤±è´¥æç¤ºæ˜ç¡®
- [ ] ç¦æ­¢å¤åˆ¶ç²˜è´´ `CONFIRM`

---

## FE-WD-P2-03ï½œæç°è¯¦æƒ… Drawer - æ“ä½œæ—¥å¿—åŒº

> **ç±»å‹**: Frontend  
> **ä¼˜å…ˆçº§**: P1  
> **ä¾èµ–**: BE-WD-P2-04

### æ–°å¢å†…å®¹ï¼ˆåœ¨ç°æœ‰è¯¦æƒ… Drawer åŸºç¡€ä¸Šï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã€æ“ä½œæ—¥å¿—ã€‘ï¼ˆæ—¶é—´å€’åºï¼‰                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  æ—¶é—´       æ“ä½œ       æ“ä½œäºº    å¤‡æ³¨        â”‚ â”‚
â”‚ â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚ â”‚  11:30     æ‰“æ¬¾æˆåŠŸ    adminB    tx_123...  â”‚ â”‚
â”‚ â”‚  11:00     å®¡æ ¸é€šè¿‡    adminA    -          â”‚ â”‚
â”‚ â”‚  10:30     æäº¤ç”³è¯·    system    -          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                 â”‚
â”‚ ã€å¤±è´¥ä¿¡æ¯ã€‘ï¼ˆä»… failed çŠ¶æ€æ˜¾ç¤ºï¼‰              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  å¤±è´¥åŸå› : é“¶è¡Œå¡ä¿¡æ¯ä¸åŒ¹é…                  â”‚ â”‚
â”‚ â”‚  æ¸ é“å›æ‰§: ERR_CARD_MISMATCH (è„±æ•)          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### éªŒæ”¶æ ‡å‡†ï¼ˆDoDï¼‰

- [ ] æ—¥å¿—æ—¶é—´è½´æ­£ç¡®ï¼ˆå€’åºï¼‰
- [ ] `failed` æ˜¾ç¤ºå¤±è´¥åŸå› 
- [ ] `completed` æ˜¾ç¤ºäº¤æ˜“å·
- [ ] çŠ¶æ€æ—¶é—´è½´å¯è§†åŒ–

---

## FE-WD-P2-04ï½œæƒé™ä¸å¯è§æ€§æ§åˆ¶

> **ç±»å‹**: Frontend  
> **ä¼˜å…ˆçº§**: P0

### æƒé™çŸ©é˜µ

| æƒé™ | UI è¡Œä¸º |
|------|---------|
| `VIEW` | åªçœ‹åˆ—è¡¨/è¯¦æƒ… |
| `REVIEW` | æ˜¾ç¤ºå®¡æ ¸æŒ‰é’® |
| `PAYOUT` | æ˜¾ç¤ºæ‰“æ¬¾æŒ‰é’® |

### å®ç°è¦ç‚¹

```typescript
// âŒ ç¦æ­¢ï¼šç°è‰²æŒ‰é’®
<Button disabled={!hasPermission}>å®¡æ ¸</Button>

// âœ… æ­£ç¡®ï¼šæ— æƒé™ç›´æ¥ä¸æ¸²æŸ“
{hasPermission('withdraw.approve') && (
  <Button onClick={handleReview}>å®¡æ ¸</Button>
)}
```

### éªŒæ”¶æ ‡å‡†ï¼ˆDoDï¼‰

- [ ] æ— æƒé™ä¸æ¸²æŸ“æŒ‰é’®ï¼ˆé disabledï¼‰
- [ ] æƒé™ä¸åç«¯ä¸€è‡´
- [ ] æƒé™å˜æ›´å³æ—¶ç”Ÿæ•ˆ

---

## QA-WD-P2-01ï½œæç°æµç¨‹å›å½’æµ‹è¯•

> **ç±»å‹**: QA  
> **ä¼˜å…ˆçº§**: P0

### æµ‹è¯•è·¯å¾„

| è·¯å¾„ | é¢„æœŸç»“æœ |
|------|----------|
| `pending â†’ approved â†’ completed` | æˆåŠŸ |
| `pending â†’ rejected` | æˆåŠŸï¼Œä½™é¢é‡Šæ”¾ |
| `approved â†’ failed` | æˆåŠŸï¼Œä½™é¢é‡Šæ”¾ |
| `pending â†’ processing` | 409 |
| `completed â†’ *` | 409 |

### éªŒæ”¶æ ‡å‡†ï¼ˆDoDï¼‰

- [ ] æ‰€æœ‰åˆæ³•è·¯å¾„é€šè¿‡
- [ ] æ‰€æœ‰éæ³•è·¯å¾„è¢« 409 æ‹¦æˆª
- [ ] Ledger ä¸çŠ¶æ€ä¸€è‡´

---

## SEC-WD-P2-01ï½œèµ„é‡‘åŸŸå®¡è®¡æ£€æŸ¥

> **ç±»å‹**: Security  
> **ä¼˜å…ˆçº§**: P0

### æ£€æŸ¥é¡¹

| æ£€æŸ¥é¡¹ | è¦æ±‚ |
|--------|------|
| å®¡è®¡æ—¥å¿— | ä»»æ„çŠ¶æ€å˜æ›´æ˜¯å¦æœ‰ `admin_audit_log` |
| Ledger ä¸€è‡´æ€§ | Ledger ä¸æœ€ç»ˆçŠ¶æ€æ˜¯å¦ä¸€è‡´ |
| å¹‚ç­‰æ€§ | é‡å¤æäº¤æ˜¯å¦å¹‚ç­‰ |
| æƒé™è¶Šæƒ | æ— æƒé™ç”¨æˆ·æ˜¯å¦è¢«æ‹¦æˆª |

### éªŒæ”¶æ ‡å‡†ï¼ˆDoDï¼‰

- [ ] å®¡è®¡æ—¥å¿—å®Œæ•´
- [ ] Ledger å¯¹è´¦é€šè¿‡
- [ ] å¹‚ç­‰ä¿æŠ¤ç”Ÿæ•ˆ
- [ ] æƒé™æ ¡éªŒæ— æ¼æ´

---

## æ–‡ä»¶ç»“æ„è§„åˆ’

### å‰ç«¯ï¼ˆAdminï¼‰

```
src/features/withdrawals/
â”œâ”€â”€ contracts.ts                     # Props å¥‘çº¦ï¼ˆå·²åˆ›å»ºï¼‰
â”œâ”€â”€ index.tsx                        # é¡µé¢å…¥å£
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ WithdrawRecordList.tsx       # åˆ—è¡¨ç»„ä»¶ï¼ˆå¯å¤ç”¨ï¼‰
â”‚   â”œâ”€â”€ WithdrawDetailDrawer.tsx     # è¯¦æƒ…æŠ½å±‰ï¼ˆWD-02ï¼‰
â”‚   â”œâ”€â”€ WithdrawExportButton.tsx     # å¯¼å‡ºæŒ‰é’®ï¼ˆWD-03ï¼‰
â”‚   â”‚
â”‚   â”‚   # P2 æ–°å¢ç»„ä»¶
â”‚   â”œâ”€â”€ WithdrawReviewDrawer.tsx     # å®¡æ ¸ Drawerï¼ˆFE-WD-P2-01ï¼‰
â”‚   â”œâ”€â”€ WithdrawPayoutModal.tsx      # æ‰“æ¬¾ Modalï¼ˆFE-WD-P2-02ï¼‰
â”‚   â”œâ”€â”€ WithdrawLogsTimeline.tsx     # æ“ä½œæ—¥å¿—æ—¶é—´è½´ï¼ˆFE-WD-P2-03ï¼‰
â”‚   â””â”€â”€ WithdrawActionBar.tsx        # æ“ä½œåŒºå®¹å™¨
â”‚
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useWithdrawRecords.ts        # åˆ—è¡¨æŸ¥è¯¢
â”‚   â”œâ”€â”€ useWithdrawDetail.ts         # è¯¦æƒ…æŸ¥è¯¢
â”‚   â”œâ”€â”€ useWithdrawLogs.ts           # æ—¥å¿—æŸ¥è¯¢ï¼ˆP2ï¼‰
â”‚   â””â”€â”€ useWithdrawOperations.ts     # æ“ä½œ mutationsï¼ˆreview/payoutï¼‰
â”‚
â””â”€â”€ utils/
    â””â”€â”€ withdrawPermissions.ts       # æƒé™åˆ¤æ–­å·¥å…·ï¼ˆFE-WD-P2-04ï¼‰
```

### åç«¯ï¼ˆAPI / Domainï¼‰

```
src/modules/admin/withdraw/
â”œâ”€â”€ withdraw.controller.ts           # è·¯ç”±å…¥å£
â”œâ”€â”€ withdraw.service.ts              # ä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ withdraw.module.ts               # æ¨¡å—å®šä¹‰
â”‚
â”œâ”€â”€ dto/
â”‚   â”œâ”€â”€ withdraw-list.dto.ts         # åˆ—è¡¨æŸ¥è¯¢å‚æ•°
â”‚   â”œâ”€â”€ withdraw-detail.dto.ts       # è¯¦æƒ…å“åº”
â”‚   â”œâ”€â”€ withdraw-review.dto.ts       # å®¡æ ¸è¯·æ±‚
â”‚   â”œâ”€â”€ withdraw-payout.dto.ts       # æ‰“æ¬¾è¯·æ±‚
â”‚   â””â”€â”€ withdraw-export.dto.ts       # å¯¼å‡ºå‚æ•°
â”‚
â”œâ”€â”€ entities/
â”‚   â”œâ”€â”€ withdraw-request.entity.ts   # æç°ç”³è¯·
â”‚   â””â”€â”€ withdraw-log.entity.ts       # æ“ä½œæ—¥å¿—
â”‚
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ withdraw-state-machine.ts    # çŠ¶æ€æœºï¼ˆBE-WD-P2-01ï¼‰
â”‚   â”œâ”€â”€ withdraw-ledger.ts           # Ledger æ“ä½œ
â”‚   â””â”€â”€ withdraw-audit.ts            # å®¡è®¡æ—¥å¿—
â”‚
â””â”€â”€ guards/
    â””â”€â”€ withdraw-permission.guard.ts # æƒé™å®ˆå«
```

---

## æ•°æ®åº“è¡¨ç»“æ„ï¼ˆå‚è€ƒï¼‰

### withdraw_requestsï¼ˆæç°ç”³è¯·è¡¨ï¼‰

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `id` | VARCHAR(36) | ä¸»é”® UUID |
| `withdraw_no` | VARCHAR(20) | æç°å•å· WD202412120001 |
| `escort_id` | VARCHAR(36) | é™ªè¯Šå‘˜ ID |
| `amount` | DECIMAL(10,2) | æç°é‡‘é¢ |
| `fee` | DECIMAL(10,2) | æ‰‹ç»­è´¹ |
| `net_amount` | DECIMAL(10,2) | å®é™…åˆ°è´¦ |
| `account_type` | ENUM | 'bank' \| 'alipay' \| 'wechat' |
| `account_name` | VARCHAR(50) | è´¦æˆ·å§“å |
| `account_no` | VARCHAR(50) | è´¦æˆ·å·ï¼ˆåŠ å¯†å­˜å‚¨ï¼‰ |
| `bank_name` | VARCHAR(50) | é“¶è¡Œåç§°ï¼ˆé“¶è¡Œå¡æ—¶ï¼‰ |
| `status` | ENUM | pending/approved/processing/completed/failed/rejected |
| `reviewed_at` | DATETIME | å®¡æ ¸æ—¶é—´ |
| `reviewed_by` | VARCHAR(36) | å®¡æ ¸äºº ID |
| `review_reason` | TEXT | å®¡æ ¸å¤‡æ³¨/é©³å›åŸå›  |
| `payout_method` | ENUM | 'manual' \| 'channel' |
| `payout_at` | DATETIME | æ‰“æ¬¾æ—¶é—´ |
| `payout_by` | VARCHAR(36) | æ‰“æ¬¾äºº ID |
| `transaction_no` | VARCHAR(64) | ç¬¬ä¸‰æ–¹äº¤æ˜“å· |
| `fail_reason` | TEXT | å¤±è´¥åŸå›  |
| `fail_code` | VARCHAR(32) | å¤±è´¥ç  |
| `created_at` | DATETIME | åˆ›å»ºæ—¶é—´ |
| `updated_at` | DATETIME | æ›´æ–°æ—¶é—´ |

**ç´¢å¼•**ï¼š
- `idx_escort_id` - é™ªè¯Šå‘˜ç»´åº¦æŸ¥è¯¢
- `idx_status` - çŠ¶æ€ç­›é€‰
- `idx_created_at` - æ—¶é—´èŒƒå›´æŸ¥è¯¢
- `unique_withdraw_no` - å•å·å”¯ä¸€
- `unique_transaction_no` - äº¤æ˜“å·å”¯ä¸€ï¼ˆå¹‚ç­‰ï¼‰

### withdraw_logsï¼ˆæ“ä½œæ—¥å¿—è¡¨ï¼‰

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `id` | VARCHAR(36) | ä¸»é”® UUID |
| `withdraw_id` | VARCHAR(36) | å…³è”æç° ID |
| `action` | ENUM | CREATE/REVIEW_APPROVE/REVIEW_REJECT/PAYOUT_SUBMIT/... |
| `operator_type` | ENUM | 'system' \| 'admin' |
| `operator_id` | VARCHAR(36) | æ“ä½œäºº ID |
| `operator_name` | VARCHAR(50) | æ“ä½œäººå§“åï¼ˆå†—ä½™ï¼‰ |
| `message` | TEXT | æ“ä½œæè¿° |
| `meta` | JSON | æ‰©å±•ä¿¡æ¯ |
| `created_at` | DATETIME | åˆ›å»ºæ—¶é—´ |

**ç´¢å¼•**ï¼š
- `idx_withdraw_id` - å…³è”æŸ¥è¯¢
- `idx_created_at` - æ—¶é—´æ’åº

---

## å®¡è®¡æ—¥å¿—æ ¼å¼ï¼ˆadmin_audit_logï¼‰

### å®¡æ ¸æ“ä½œ

```json
{
  "module": "withdraw",
  "action": "review",
  "targetId": "wd_xxx",
  "targetNo": "WD202412120001",
  "operatorId": "admin_xxx",
  "operatorName": "å¼ ä¸‰",
  "detail": {
    "decision": "approve",
    "reason": null,
    "fromStatus": "pending",
    "toStatus": "approved"
  },
  "ip": "192.168.1.1",
  "userAgent": "...",
  "createdAt": "2024-12-12T10:30:00Z"
}
```

### æ‰“æ¬¾æ“ä½œ

```json
{
  "module": "withdraw",
  "action": "payout",
  "targetId": "wd_xxx",
  "targetNo": "WD202412120001",
  "operatorId": "admin_xxx",
  "operatorName": "æå››",
  "detail": {
    "method": "manual",
    "amount": 500.00,
    "transactionNo": "2024121200001234567",
    "fromStatus": "approved",
    "toStatus": "completed"
  },
  "ip": "192.168.1.1",
  "userAgent": "...",
  "createdAt": "2024-12-12T11:30:00Z"
}
```

### å¯¼å‡ºæ“ä½œ

```json
{
  "module": "withdraw",
  "action": "export",
  "operatorId": "admin_xxx",
  "operatorName": "ç‹äº”",
  "detail": {
    "format": "csv",
    "filters": {
      "status": "completed",
      "dateFrom": "2024-12-01",
      "dateTo": "2024-12-12"
    },
    "recordCount": 156
  },
  "ip": "192.168.1.1",
  "userAgent": "...",
  "createdAt": "2024-12-12T15:00:00Z"
}
```

---

## ä¾èµ–å…³ç³»å›¾

```
P1 ä¾èµ–é“¾
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ADMIN-WD-01ï¼ˆå·²å®Œæˆï¼‰
     â”‚
     â”œâ”€â”€â–º ADMIN-WD-02ï¼ˆè¯¦æƒ…æŠ½å±‰ï¼‰
     â”‚
     â”œâ”€â”€â–º ADMIN-WD-03ï¼ˆå¯¼å‡ºï¼‰
     â”‚
     â””â”€â”€â–º ADMIN-WD-04ï¼ˆè¯¦æƒ…é¡µ Tabï¼‰
              â”‚
              â””â”€â”€ å¤ç”¨ WithdrawRecordList


P2 ä¾èµ–é“¾ï¼ˆP1 å…¨éƒ¨å®Œæˆåï¼‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Backend                           Frontend
    â”€â”€â”€â”€â”€â”€â”€                           â”€â”€â”€â”€â”€â”€â”€â”€
    BE-WD-P2-01ï¼ˆçŠ¶æ€æœºï¼‰
         â”‚
         â”œâ”€â”€â–º BE-WD-P2-02ï¼ˆå®¡æ ¸ APIï¼‰â”€â”€â–º FE-WD-P2-01ï¼ˆå®¡æ ¸ Drawerï¼‰
         â”‚                                    â”‚
         â”‚                                    â–¼
         â”œâ”€â”€â–º BE-WD-P2-03ï¼ˆæ‰“æ¬¾ APIï¼‰â”€â”€â–º FE-WD-P2-02ï¼ˆæ‰“æ¬¾ Modalï¼‰
         â”‚
         â””â”€â”€â–º BE-WD-P2-04ï¼ˆæ—¥å¿— APIï¼‰â”€â”€â–º FE-WD-P2-03ï¼ˆæ—¥å¿—åŒºï¼‰

    FE-WD-P2-04ï¼ˆæƒé™æ§åˆ¶ï¼‰â”€â”€ å¯å¹¶è¡Œ

    QA/Securityï¼ˆåç«¯å®Œæˆåï¼‰
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    QA-WD-P2-01ï¼ˆå›å½’æµ‹è¯•ï¼‰
    SEC-WD-P2-01ï¼ˆå®¡è®¡æ£€æŸ¥ï¼‰
```

## P2 ä»»åŠ¡å¡æ€»è§ˆï¼ˆå¯ç›´æ¥è´´ Jiraï¼‰

| å¡å· | æ ‡é¢˜ | è´Ÿè´£äºº | é¢„ä¼° |
|------|------|--------|------|
| BE-WD-P2-01 | æç°çŠ¶æ€æœºä¸éæ³•è·³è½¬é˜²æŠ¤ | åç«¯ | 4h |
| BE-WD-P2-02 | æç°å®¡æ ¸ API | åç«¯ | 4h |
| BE-WD-P2-03 | æç°æ‰“æ¬¾ API | åç«¯ | 6h |
| BE-WD-P2-04 | æç°æ“ä½œæ—¥å¿—æ¥å£ | åç«¯ | 2h |
| FE-WD-P2-01 | å®¡æ ¸ Drawer | å‰ç«¯ | 4h |
| FE-WD-P2-02 | æ‰“æ¬¾ç¡®è®¤ Modal | å‰ç«¯ | 6h |
| FE-WD-P2-03 | æç°è¯¦æƒ…æ—¥å¿—åŒº | å‰ç«¯ | 3h |
| FE-WD-P2-04 | æƒé™å¯è§æ€§æ§åˆ¶ | å‰ç«¯ | 2h |
| QA-WD-P2-01 | æç°æµç¨‹å›å½’æµ‹è¯• | QA | 4h |
| SEC-WD-P2-01 | èµ„é‡‘åŸŸå®¡è®¡æ£€æŸ¥ | å®‰å…¨ | 4h |

---

## é£æ§è§„åˆ™ï¼ˆP2 å®¡æ ¸æ—¶å‚è€ƒï¼‰

### é£é™©æç¤ºè§¦å‘æ¡ä»¶

| é£é™©é¡¹ | è§¦å‘æ¡ä»¶ | æç¤ºç­‰çº§ |
|--------|----------|----------|
| é«˜é¢‘ç”³è¯· | ä»Šæ—¥ç”³è¯· â‰¥ 3 æ¬¡ | âš ï¸ è­¦å‘Š |
| ç´¯è®¡é‡‘é¢ | æœ¬æœˆç´¯è®¡æç° â‰¥ Â¥10,000 | âš ï¸ è­¦å‘Š |
| é¦–æ¬¡æç° | è¯¥é™ªè¯Šå‘˜é¦–æ¬¡æç° | â„¹ï¸ ä¿¡æ¯ |
| å¤§é¢æç° | å•ç¬” â‰¥ Â¥5,000 | âš ï¸ è­¦å‘Š |
| è´¦æˆ·å˜æ›´ | è¿‘ 7 å¤©å˜æ›´è¿‡è´¦æˆ· | ğŸ”´ é«˜å± |
| é£æ§å‘½ä¸­ | å‘½ä¸­é£æ§è§„åˆ™åº“ | ğŸ”´ é«˜å± |

### é£æ§æ£€æŸ¥æ¥å£ï¼ˆP2 é¢„ç•™ï¼‰

```typescript
// GET /admin/withdraw-records/:id/risk-check
interface RiskCheckResponse {
  level: 'normal' | 'warning' | 'danger'
  items: {
    type: string
    message: string
    level: 'info' | 'warning' | 'danger'
  }[]
}
```

---

## ä¸€å¥è¯æ€»ç»“

```
ç»ˆç«¯ï¼ˆé™ªè¯Šå‘˜ï¼‰ â†’ åªè´Ÿè´£"å‘èµ·è¯·æ±‚"
åå°ï¼ˆAdminï¼‰  â†’ æ‰æ˜¯"èµ„é‡‘çœŸç›¸æº"
```

è¿™å¥—æ‹†å¡ä¸ä¼šåå™¬å‰ç«¯æ¶æ„ï¼Œä¹Ÿä¸ä¼šç ´ååŒä¼šè¯æ¨¡å‹ã€‚

---

## æ–‡æ¡£æ›´æ–°è®°å½•

| æ—¥æœŸ | ç‰ˆæœ¬ | æ›´æ–°å†…å®¹ | æ›´æ–°äºº |
|------|------|----------|--------|
| 2024-12-12 | v1.0 | åˆå§‹ç‰ˆæœ¬ï¼ŒP0/P1 ä»»åŠ¡å¡ | - |
| 2024-12-13 | v2.0 | æ–°å¢ P2 è¯¦ç»†ä»»åŠ¡å¡ï¼ˆBE/FE/QAï¼‰ | - |
| 2024-12-13 | v2.1 | è¡¥å……æ•°æ®åº“è¡¨ç»“æ„ã€å®¡è®¡æ—¥å¿—æ ¼å¼ã€é£æ§è§„åˆ™ | - |
